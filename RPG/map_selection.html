<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>狗狗冒險之旅 - 地圖選擇</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/map_selection_styles.css">
</head>
<body>
    <div class="container map-page-container"> 
        <!-- 頁面頂部的 H1 和 P 標籤已整合到下方的 .character-reminder-overlay 中 -->
        <!-- 如果仍需要一個獨立的頁面標題，可以取消註釋這行並調整樣式 -->
        <!-- <h1 style="text-align: center; margin-bottom: 15px;">校園探索</h1> -->

        <div class="map-wrapper">
            <!-- 角色提示信息疊加層 -->
            <div class="character-reminder character-reminder-overlay"> 
                <img id="selected-char-img-map" src="" alt="角色頭像" class="char-avatar-small">
                <span class="reminder-text"> 
                    選擇 <strong id="selected-char-name-map">角色名稱</strong> 的探索地點
                </span>

                <span class="map-meat-jerky-counter">
                    🦴 肉乾：<strong id="map-meat-jerky-display">0</strong>
                </span>
            </div>

            <img src="images/map.png" alt="校園地圖" id="adventure-map-img">
            
            <!-- 地點按鈕/熱點 -->
            <!-- 注意：你可能需要根據實際地圖微調 style="top: X%; left: Y%;" 的值 -->

            <button class="map-location-btn" id="loc-gate" 
                    style="top: 28%; left: 15%;" 
                    data-location-name="🏫 校門口" 
                    data-location-intro="回到首頁。"
                    data-target-page="index.html" 
                    data-action-type="navigate">校門口</button>

            <button class="map-location-btn" id="loc-library" 
                    style="top: 40%; left: 60%;" 
                    data-location-name="📚 圖書館" 
                    data-location-intro="圖書館藏有許多秘密。你可以在這裡累積基本功！"
                    data-target-page="map1_quiz.html"
                    data-action-type="quiz">圖書館</button>

            <button class="map-location-btn" id="loc-playground" 
                    style="top: 55%; left: 15%;" 
                    data-location-name="🏃 操場" 
                    data-location-intro="操場是個提升體能的好地方，提升熟練度。晚上這裡會出現大份肉乾！"
                    data-target-page="map2_quiz.html"
                    data-action-type="quiz">操場</button>

            <button class="map-location-btn" id="loc-lab" 
                    style="top: 80%; left: 60%;" 
                    data-location-name="🧪 實驗室" 
                    data-location-intro="實驗室裡充滿了奇特肉乾，但這裡的實驗有些難度..."
                    data-target-page="map3_quiz.html"
                    data-action-type="quiz">實驗室</button>

            <button class="map-location-btn" id="loc-forest" 
                    style="top: 85%; left: 20%;" 
                    data-location-name="🌳 後山林道" 
                    data-location-intro="幽靜的後山林道充滿了謎題，據說它是通往「校園遺跡」的必經之路。傳說中，強大的「尾語之石」就藏在這附近。"
                    data-target-page="map4_quiz.html"
                    data-action-type="quiz">後山林道</button>
            
            <button class="map-location-btn" id="loc-basement" 
                    style="top: 95%; left: 70%;" 
                    data-location-name="🔒 地下室" 
                    data-location-intro="陰森的地下室，據說是舊校長室的所在地，現在被嚴密封鎖。傳聞這裡藏著揭露校史真相的「黑盒子」。只有在故事的終章，你才能進入此地，面對戰鬥與解密的最終考驗。"
                    data-target-page="map5_quiz.html" 
                    data-action-type="quiz"
                    data-locked="true"  
                    title="目前無法進入">地下室</button> 
        </div>

        <!-- 地點介紹顯示區 (模態框) -->
        <div id="location-details-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close-modal-btn">×</span> <!-- 使用了 × 作為關閉圖標 -->
                <h3 id="modal-location-name">地點名稱</h3>
                <img id="modal-location-image" src="" alt="地點圖片" style="display:none; max-width:100%; height:auto; margin-bottom:15px;">
                <p id="modal-location-intro">地點介紹和考驗內容會顯示在這裡。</p>
                <!-- 將按鈕包裹在一個容器中，方便CSS控制並排居中 -->
                <div class="modal-buttons-container">
                    <button id="confirm-enter-location-btn">確定進入</button>
                    <button id="cancel-modal-btn" style="background-color: #777;">取消</button> 
                    <!-- 移除了行內 margin-left，建議在 CSS 中統一處理按鈕間距 -->
                </div>
            </div>
        </div>
    </div>

    <script src="js/map_select.js"></script>
</body>
</html>