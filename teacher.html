<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>教師備課幫手</title>
    <link rel="icon" href="images/sped2.png" type="image/png">
    
    <!-- 預先連線以加速字型載入 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5BBHYN77N9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-5BBHYN77N9');
    </script>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        'primary': '#38A3A5',
                        'primary-dark': '#2C7A7B',
                        'background-light': '#F0F4F8',
                        'background-dark': '#1A202C',
                        'surface-light': '#FFFFFF',
                        'surface-dark': '#2D3748',
                        'text-light': '#2D3748',
                        'text-dark': '#E2E8F0',
                        'accent-dark': '#80CBC4',
                        'button-bg': '#38A3A5',
                        'button-text': '#FFFFFF',
                    },
                    fontFamily: {
                        display: ["Noto Sans TC", "sans-serif"],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'slow-zoom': 'slowZoom 20s linear infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slowZoom: {
                            '0%': { transform: 'scale(1)' },
                            '100%': { transform: 'scale(1.1)' },
                        }
                    }
                },
            },
        };
    </script>

    <style>
        /* 核心樣式優化 */
        :root {
            --transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            overflow-x: hidden; /* 防止水平捲動 */
        }

        /* 頁面切換動畫類別 */
        .view-section {
            display: none;
            opacity: 0;
            /* 移除原本的 transition，改用 animation 控制進入 */
        }
        
        .view-section.active {
            display: block;
            /* 使用更快的動畫 */
            animation: fadeIn 0.3s ease-out forwards; 
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        /* 內容區塊過渡 */
        .subject-detail {
            display: none;
            /* 移除過於複雜的 transform，讓出現更直接 */
            animation: quickFadeIn 0.3s ease-out;
        }
        .subject-detail.active { display: block; }
        
        @keyframes quickFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero 背景設定 */
        .hero-full-bg {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 文字描邊與陰影優化 */
        .text-stroke-dark { color: #2D3748; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        .dark .text-stroke-dark { color: #E2E8F0; }
        
        .text-shadow-lg {
            text-shadow: 0 4px 8px rgba(0,0,0,0.12);
        }

        /* 按鈕優化 */
        .gradient-button {
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 120px;
            border-radius: 1rem;
            background: linear-gradient(135deg, #38A3A5 0%, #80CBC4 100%);
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(56, 163, 165, 0.3);
            transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); /* 加快過渡速度 */
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer; /* 確保滑鼠變成手型 */
        }
        .gradient-button::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(255,255,255,0.2), transparent);
            opacity: 0;
            transition: opacity 0.2s;
        }
        .gradient-button:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(56, 163, 165, 0.4);
        }
        .gradient-button:hover::before { opacity: 1; }
        .gradient-button:active { transform: scale(0.96); }

        /* 工具卡片優化 */
        .tool-card {
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.15);
            border-color: rgba(56, 163, 165, 0.3);
        }

        /* 滾動觸發動畫類別 (Scroll Reveal) */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.5, 0, 0, 1); /* 稍微加快 */
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark transition-colors duration-300 antialiased selection:bg-primary selection:text-white">
    
    <!-- 導覽列 -->
    <header class="bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200/50 dark:border-gray-700/50 transition-all duration-300" id="main-header">
        <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
            <a href="#" id="spedmix-logo" class="flex items-center gap-2 group" onclick="handleLogoClick(event)">
                <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white font-bold text-sm group-hover:rotate-12 transition-transform">S</div>
                <span class="text-2xl font-bold text-primary dark:text-accent-dark tracking-tight">教師備課幫手</span>
            </a>
            
            <div id="desktop-nav" class="hidden md:flex items-center space-x-8">
                <a href="#" onclick="handleLogoClick(event)" class="nav-link text-sm font-medium text-text-light dark:text-text-dark hover:text-primary dark:hover:text-accent-dark transition-colors relative after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-primary after:bottom-[-4px] after:left-0 after:transition-all hover:after:w-full">首頁</a>
                <a href="https://www.instagram.com/spedmix2025/" target="_blank" rel="noopener noreferrer" class="nav-link text-sm font-medium text-text-light dark:text-text-dark hover:text-primary dark:hover:text-accent-dark transition-colors flex items-center gap-1">
                    <span class="material-icons text-lg">photo_camera</span> Instagram
                </a>
            </div>
            
            <button id="mobile-menu-button" class="md:hidden text-text-light dark:text-text-dark p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                <span class="material-icons">menu</span>
            </button>
        </nav>

        <!-- 手機版選單 -->
        <div id="mobile-menu" class="hidden md:hidden bg-surface-light dark:bg-surface-dark border-t dark:border-gray-700 shadow-lg absolute w-full origin-top transition-transform duration-200">
            <a href="#" onclick="handleLogoClick(event); toggleMobileMenu();" class="block py-3 px-6 font-medium text-text-light dark:text-text-dark hover:bg-gray-50 dark:hover:bg-gray-700/50">首頁</a>
            <a href="https://www.instagram.com/spedmix2025/" target="_blank" rel="noopener noreferrer" class="block py-3 px-6 font-medium text-text-light dark:text-text-dark hover:bg-gray-50 dark:hover:bg-gray-700/50">Instagram</a>
        </div>
    </header>

    <main class="min-h-screen">
        
        <!-- Hero Section (首頁 - 背景圖版) -->
        <section id="hero-view" class="view-section active">
            <div class="hero-full-bg relative overflow-hidden">
                
                <!-- 背景圖片層 -->
                <div class="absolute inset-0 z-0">
                    <img src="https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" 
                         alt="Background" 
                         class="w-full h-full object-cover animate-slow-zoom"
                         loading="eager"
                    >
                    <!-- 遮罩層 -->
                    <div class="absolute inset-0 bg-white/85 dark:bg-gray-900/85 backdrop-blur-sm transition-colors duration-500"></div>
                </div>

                <!-- 內容層 -->
                <div class="container mx-auto px-4 sm:px-6 relative z-10 text-center">
                    <div class="max-w-4xl mx-auto animate-fade-in-up">
                        
                        <div class="inline-block px-4 py-1.5 mb-6 text-sm font-bold tracking-wider text-primary uppercase bg-primary/10 dark:bg-primary/20 rounded-full border border-primary/20">
                            2025 米克師
                        </div>
                        
                        <h1 class="text-5xl sm:text-6xl md:text-8xl font-bold text-text-light dark:text-text-dark leading-tight mb-6 tracking-tighter text-shadow-lg">
                            Special <span class="text-primary relative inline-block">
                                Education
                                <!-- 裝飾性底線 -->
                                <span class="absolute bottom-2 left-0 w-full h-3 bg-primary/20 -z-10 rotate-1"></span>
                            </span>
                        </h1>
                        
                        <p class="text-2xl sm:text-3xl md:text-4xl text-text-light/90 dark:text-text-dark/90 font-bold mb-4">
                            教師備課幫手
                        </p>
                        
                        <p class="text-lg md:text-xl text-text-light/70 dark:text-text-dark/70 mb-10 max-w-2xl mx-auto font-medium">
                            高效教學輔助，專為特殊教育與教材調整設計<br class="hidden md:block">讓 AI 成為您的備課神隊友
                        </p>
                        
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <button onclick="navigateTo('menu')" class="group bg-primary hover:bg-primary-dark text-white font-bold py-4 px-12 rounded-full shadow-xl shadow-primary/30 hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 flex items-center justify-center gap-2 text-lg">
                                <span>開始找幫手</span>
                                <span class="material-icons transition-transform group-hover:translate-x-1">arrow_forward</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 底部裝飾性波浪 -->
                <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-none z-20">
                    <svg class="relative block w-[calc(100%+1.3px)] h-[60px] text-background-light dark:text-background-dark fill-current transition-colors duration-300" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                        <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path>
                    </svg>
                </div>

            </div>
        </section>

        <!-- Menu Section (分類選單) -->
        <section id="menu-view" class="view-section py-12">
            <div class="container mx-auto px-4 md:px-8">
                <div class="text-center mb-12 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-primary dark:text-accent-dark mb-3">教學工具分類</h2>
                    <p class="text-gray-500 dark:text-gray-400">選擇您需要的教學領域，快速找到合適的 AI 輔助工具</p>
                    <div class="w-16 h-1 bg-primary mx-auto mt-6 rounded-full"></div>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 max-w-6xl mx-auto">
                    <!-- 按鈕生成區 - 已移除延遲 (delay) 讓反應更敏捷 -->
                    <button onclick="openSubject('chinese')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">menu_book</span>
                            <span>國語文</span>
                        </div>
                    </button>
                    <button onclick="openSubject('math')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">calculate</span>
                            <span>數學</span>
                        </div>
                    </button>
                    <button onclick="openSubject('english')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">language</span>
                            <span>英語文</span>
                        </div>
                    </button>
                    <button onclick="openSubject('advocacy')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">school</span>
                            <span>通用工具</span>
                        </div>
                    </button>
                    <button onclick="openSubject('ai-tools')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">folder_shared</span>
                            <span>行政工具</span>
                        </div>
                    </button>
                    <button onclick="openSubject('social-skills')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">people</span>
                            <span>社會技巧</span>
                        </div>
                    </button>
                    <button onclick="openSubject('learning-strategies')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">psychology</span>
                            <span>學習策略</span>
                        </div>
                    </button>
                    <button onclick="openSubject('life-management')" class="gradient-button reveal-on-scroll">
                        <div class="text-center">
                            <span class="material-icons block text-3xl mb-1 opacity-80">apps</span>
                            <span>其它工具</span>
                        </div>
                    </button>
                </div>
                
                <div class="text-center mt-12">
                     <button onclick="navigateTo('hero')" class="text-gray-500 hover:text-primary transition-colors flex items-center justify-center gap-1 mx-auto">
                        <span class="material-icons text-sm">arrow_upward</span> 回到頂部
                    </button>
                </div>
            </div>
        </section>

        <!-- Content Detail Section (工具詳情) -->
        <section id="detail-view" class="view-section py-8 min-h-screen bg-background-light dark:bg-background-dark">
            <div class="container mx-auto px-4 md:px-8">
                
                <!-- 控制列 -->
                <div class="mb-8 flex items-center">
                    <button onclick="navigateTo('menu')" class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-surface-dark rounded-lg shadow-sm hover:shadow-md text-primary dark:text-accent-dark font-medium transition-all hover:-translate-x-1 cursor-pointer">
                        <span class="material-icons text-sm">arrow_back_ios</span>
                        返回選單
                    </button>
                </div>

                <!-- 國語文 -->
                <div id="chinese" class="subject-detail">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">menu_book</span> 國語文工具
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">提供文本簡化、朗讀輔助等國語文教學工具。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                         <a href="teacher/chinesereading.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm" onclick="trackEvent('button_click', 'tool_link', 'chinese-sentence_reading')">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">record_voice_over</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">文章逐句朗讀</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">將長篇文章轉位逐句顯示，並提供朗讀，輔助閱讀理解。</p>
                        </a>
                        <a href="teacher/simple.html" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">auto_fix_high</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">差異化教材生成</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">利用 AI 簡化複雜課文，一鍵生成摘要、漫畫、測驗。</p>
                        </a>
                        <a href="teacher/reading.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">quiz</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">通用性閱讀測驗</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">語音朗讀、劃記重點、檢核答案等功能。</p>
                        </a>
                        <a href="teacher/question.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">edit_note</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">個別化出題小幫手</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">貼上課文，即可產生差異化題型。</p>
                        </a>
                        <a href="teacher/chinesetranslate.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">translate</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">文言文圖文學習單</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">將艱澀的文言文轉化為圖文並茂的學習素材。</p>
                        </a>
                    </div>
                </div>

                <!-- 數學 -->
                <div id="math" class="subject-detail">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">calculate</span> 數學工具
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">包含互動式教具、視覺化概念等數學輔助工具。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                         <a href="https://g.co/gemini/share/ce02a1d69a3c" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">exposure_neg_1</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">數字簡化小幫手</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">貼上題目，即可產生簡化後的相同題型數題。</p>
                        </a>
                    </div>
                </div>

                <!-- 英語文 -->
                <div id="english" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">language</span> 英語文工具
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">提供中英文發音以及朗讀練習的數位學習單。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="https://g.co/gemini/share/9d9f4d4c25ac" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">headphones</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">逐句聽</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">將長篇文章改為逐句呈現，並提供翻譯及中英文發音。</p>
                        </a>
                        <a href="https://g.co/gemini/share/81fa3194197f" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">mic</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">逐句聽與唸</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">AI 朗讀評分機制，逐句呈現並提供翻譯。</p>
                        </a>
                        <a href="teacher/unscramble.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">sort_by_alpha</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">句型排列製作</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">降低書寫負荷，並提供即時發音。</p>
                        </a>
                        <a href="teacher/choose.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">touch_app</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">互動式選擇題製作</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">即時翻譯、英文發音、提示及檢核答案。</p>
                        </a>
                         <a href="teacher/engwords.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">image</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">AI圖片測驗</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">即時圖片、中英文發音、錯題重測功能。</p>
                        </a>
                    </div>
                </div>

                <!-- 通用工具 -->
                <div id="advocacy" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">school</span> 通用工具
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">協助教師備課的跨領域常用工具。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                         <a href="teacher/simple.html" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">auto_fix_high</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">差異化教材生成</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">利用 AI 簡化複雜課文，一鍵生成摘要、漫畫。</p>
                        </a>
                        <a href="teacher/question.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">edit_note</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">個別化出題</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">貼上課文，即可產生差異化題型。</p>
                        </a>
                         <a href="teacher/engwords.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">image</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">AI圖片測驗</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">即時圖片、中英文發音、錯題重測功能。</p>
                        </a>
                    </div>
                </div>

                <!-- 行政工具 -->
                <div id="ai-tools" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">folder_shared</span> 行政工具
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">運用 AI 技術生成教材、簡化文本，提升行政效率。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="teacher/IEP.html" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">description</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">IEP 目標產生</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">根據需求快速生成 IEP 學期與學年目標。</p>
                        </a>
                        <a href="teacher/behavior.html" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">psychology_alt</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">行為功能介入</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">輸入行為事件，一鍵分析 ABC，提供介入策略。</p>
                        </a>
                    </div>
                </div>

                <!-- 社會技巧 -->
                <div id="social-skills" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">people</span> 社會技巧
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">提供社交情境故事、情緒識別等互動練習。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="https://g.co/gemini/share/448c25a01644" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">emoji_emotions</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">情緒圖片生成</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">輸入情緒詞彙，AI 生成對應表情圖片。</p>
                        </a>
                    </div>
                </div>

                 <!-- 學習策略 -->
                <div id="learning-strategies" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">psychology</span> 學習策略
                        </h2>
                        <p class="mt-2 text-gray-600 dark:text-gray-400">包含時間管理、筆記技巧、心智圖等學習方法。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="#" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">account_tree</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">心智圖產生器</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">輸入主題，AI 自動生成心智圖，幫助整理思緒。</p>
                        </a>
                    </div>
                </div>

                <!-- 其它工具 -->
                <div id="life-management" class="subject-detail">
                     <div class="mb-8">
                        <h2 class="text-3xl font-bold text-primary dark:text-accent-dark flex items-center gap-3">
                            <span class="material-icons text-4xl">apps</span> 其它工具
                        </h2>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="teacher/tts.html" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">record_voice_over</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">自製報讀測驗</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">快速建立報讀測驗，免安裝並支援離線。</p>
                        </a>
                        <a href="https://www.notion.so/spedmix2025/AI-2744c52ff8d08022b1e3c3a7577d7312?source=copy_link" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                             <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">account_tree</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">視覺化流程圖</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">建立步驟化的視覺提示，引導學生完成任務。</p>
                        </a>
                        <a href="https://gemini.google.com/share/b32ef7e41b73" target="_blank" class="tool-card p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm">
                            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4 text-primary"><span class="material-icons">sticker</span></div>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">一鍵生貼圖</h3>
                            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 leading-relaxed">上傳照片並選擇風格，一鍵產出貼圖。</p>
                        </a>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <footer class="bg-surface-light dark:bg-surface-dark mt-auto py-8 border-t border-gray-200 dark:border-gray-700">
        <div class="container mx-auto text-center">
            <p class="text-text-light/60 dark:text-text-dark/60 text-sm">&copy; 2025 SPEDMIX. Designed for Special Education.</p>
        </div>
    </footer>

    <script src="tracking.js"></script>
    
    <script>
        // 頁面載入處理
        window.addEventListener('load', () => {
            // 確保首頁文字動畫觸發
            setTimeout(() => {
                 document.querySelector('.animate-fade-in-up')?.classList.add('active');
            }, 100);
        });

        // 視圖狀態管理
        let currentView = 'hero';

        // 優化後的導航功能 - 移除延遲，立即反應
        function navigateTo(viewId) {
            // 1. 立即隱藏所有視圖，不等待淡出
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
                el.style.display = 'none'; // 關鍵：立即隱藏
            });

            // 2. 準備目標視圖
            const target = document.getElementById(viewId + '-view');
            if (target) {
                // 3. 設置為 block 但保持透明 (由 CSS animation 處理 fade in)
                target.style.display = 'block';
                
                // 4. 使用 requestAnimationFrame 確保 DOM 更新後再添加 active class 以觸發動畫
                requestAnimationFrame(() => {
                    target.classList.add('active');
                });
                
                currentView = viewId;
                window.scrollTo({ top: 0, behavior: 'auto' }); // 改為 auto，因為切換畫面時 smooth 卷動有時會造成暈眩感

                // 如果進入 Menu，重新觸發 Scroll Reveal
                if (viewId === 'menu') {
                    resetScrollReveal();
                }
            }
        }

        // 開啟特定科目 - 優化邏輯
        function openSubject(subjectId) {
            // 1. 先將所有詳情隱藏
            document.querySelectorAll('.subject-detail').forEach(el => {
                el.classList.remove('active');
                el.style.display = 'none';
            });

            // 2. 顯示目標詳情 (在切換視圖之前就準備好)
            const targetSubject = document.getElementById(subjectId);
            if (targetSubject) {
                targetSubject.style.display = 'block';
                setTimeout(() => targetSubject.classList.add('active'), 10);
            }

            // 3. 切換到詳情視圖
            navigateTo('detail');
        }

        function handleLogoClick(e) {
            e.preventDefault();
            navigateTo('hero');
        }
        
        function toggleMobileMenu() {
             const menu = document.getElementById('mobile-menu');
             menu.classList.toggle('hidden');
        }

        // Scroll Reveal Observer
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, observerOptions);

        function initScrollReveal() {
            document.querySelectorAll('.reveal-on-scroll').forEach(el => {
                observer.observe(el);
            });
        }

        function resetScrollReveal() {
            document.querySelectorAll('.reveal-on-scroll').forEach(el => {
                el.classList.remove('is-visible');
                observer.unobserve(el);
                observer.observe(el);
            });
        }

        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-button');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            initScrollReveal();
        });

    </script>
</body>
</html>