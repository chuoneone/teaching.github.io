<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WMNZ6FESH7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WMNZ6FESH7');
    </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æˆåŠŸé£›ç¾åœ‹</title>
  <link rel="icon" href="images/dog.png" type="image/png">
  <style>
    /* CSS æ¨£å¼ä¿æŒä¸è®Šï¼Œæ­¤è™•çœç•¥ä»¥ç¯€çœç©ºé–“ */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ece9e6 0%, #ffffff 100%);
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      color: #333;
    }

    h1 {
      color: #005a8d;
      text-align: center;
      margin-bottom: 30px;
      font-size: 2.5em;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }

    .question {
      display: none;
      margin-bottom: 30px;
      border-radius: 15px;
      background: #ffffff;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      max-width: 750px;
      width: 95%;
    }

    .question.active {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      padding: 20px;
    }

    .question-header {
        width: 100%;
        text-align: center;
        margin-bottom: 15px;
    }

    .question-header h2 {
      color: #007bff;
      margin-top: 0;
      margin-bottom: 0;
      font-size: 1.8em;
    }

    .question-left-panel {
      flex: 1 1 45%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-right: 15px;
      box-sizing: border-box;
    }

    .question-right-panel {
      flex: 1 1 50%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-left: 15px;
      box-sizing: border-box;
    }

    img {
      width: 100%;
      max-width: 300px;
      height: auto;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .play-audio-button {
      background-color: #ffc107;
      color: #212529;
      border: none;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 1em;
      margin-bottom: 15px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      width: fit-content;
    }
    .play-audio-button:hover {
      background-color: #e0a800;
    }
    .play-audio-button:disabled {
        cursor: not-allowed;
        opacity: 0.7;
    }

    .options-container {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
    }

    button, .action-button {
      padding: 14px 20px;
      font-size: 1em;
      cursor: pointer;
      color: white;
      border: none;
      border-radius: 30px;
      transition: background-color 0.2s ease-in-out, transform 0.1s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      width: 100%;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      box-sizing: border-box;
    }
    .options-container button {
        background-color: #007bff;
    }
    .options-container button:hover:not(:disabled) {
      background-color: #0056b3;
      transform: translateY(-2px);
    }
    .options-container button:active:not(:disabled) {
      background-color: #004085;
    }
    .options-container button:disabled {
        cursor: not-allowed;
        opacity: 0.7;
    }

    .feedback-container {
        width: 100%;
        margin-top: 15px;
    }

    .feedback-message {
      font-size: 1em;
      font-weight: bold;
      text-align: center;
      padding: 10px;
      border-radius: 8px;
    }

    .correct {
      color: #155724;
      background-color: #d4edda;
      border: 1px solid #c3e6cb;
    }

    .incorrect {
      color: #721c24;
      background-color: #f8d7da;
      border: 1px solid #f5c6cb;
    }

 /* å®Œæˆç•«é¢çš„æŒ‰éˆ•å®¹å™¨ */
    .final-actions-container {
        display: flex;
        flex-direction: column; /* é è¨­å‚ç›´æ’åˆ— */
        gap: 15px; /* æŒ‰éˆ•é–“çš„é–“è· */
        margin-top: 20px; /* èˆ‡ä¸Šæ–¹<p>æ¨™ç±¤çš„é–“è· */
        width: 100%;
        max-width: 450px; /* é™åˆ¶å®¹å™¨æœ€å¤§å¯¬åº¦ï¼Œä½¿å…¶å±…ä¸­ */
        align-items: center; /* ä½¿æŒ‰éˆ•åœ¨å®¹å™¨å…§æ°´å¹³å±…ä¸­ */
    }

    /* ç¢ºä¿ .learn-vocab-button çš„ margin-top è¢«å®¹å™¨çš„ margin-top å–ä»£ */
    .learn-vocab-button {
        background-color: #28a745;
        /* margin-top: 25px;  <-- é€™å€‹å¯ä»¥ç§»é™¤æˆ–æ¸›å°ï¼Œå› ç‚ºçˆ¶å®¹å™¨å·²æœ‰ margin-top */
        max-width: 300px; /* å¦‚æœå¸Œæœ›å®ƒä¸ä½”æ»¿å®¹å™¨ï¼Œå¯ä»¥ä¿ç•™ï¼›å¦å‰‡è¨­ç‚º width: 100%; */
        width: 100%; /* è®“æŒ‰éˆ•å¡«æ»¿å®¹å™¨å¯¬åº¦ */
    }
    .learn-vocab-button:hover {
        background-color: #218838;
        transform: translateY(-2px);
    }

    /* æ–°å¢å£èªªç·´ç¿’æŒ‰éˆ•çš„æ¨£å¼ */
    .speaking-practice-button {
        background-color: #17a2b8; /* é’è‰²/è—ç¶ è‰² */
        color: white; /* ç¢ºä¿æ–‡å­—é¡è‰²æ˜¯ç™½è‰² */
        text-decoration: none; /* ç§»é™¤é€£çµä¸‹åŠƒç·š */
        /* padding: 14px 20px; å·²ç”± .action-button æä¾› */
        /* border-radius: 30px; å·²ç”± .action-button æä¾› */
        /* font-size: 1em; å·²ç”± .action-button æä¾› */
        /* cursor: pointer; å·²ç”± .action-button æä¾› */
        /* box-shadow: 0 2px 5px rgba(0,0,0,0.1); å·²ç”± .action-button æä¾› */
        width: 100%; /* è®“æŒ‰éˆ•å¡«æ»¿å®¹å™¨å¯¬åº¦ */
        /* max-width: 300px; */ /* åŒä¸Šï¼Œå¦‚æœå¸Œæœ›å®ƒä¸ä½”æ»¿å®¹å™¨ï¼Œå¯ä»¥ä¿ç•™ */
        display: inline-block; /* ç¢ºä¿ padding ç”Ÿæ•ˆ */
        text-align: center; /* æ–‡å­—å±…ä¸­ */
        box-sizing: border-box;
    }
    .speaking-practice-button:hover {
        background-color: #138496;
        transform: translateY(-2px);
    }


    #q6 {
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 30px 20px;
    }
    #q6 .question-header h2 {
        color: #28a745;
        font-size: 1.9em;
        margin-bottom: 15px;
    }
    #q6 p {
        font-size: 1.5em;
        color: #333;
        margin-bottom: 10px; /* èª¿æ•´èˆ‡ä¸‹æ–¹æŒ‰éˆ•å®¹å™¨çš„é–“è· */
    }

    /* éŸ¿æ‡‰å¼ï¼šç•¶è¢å¹•å¯¬åº¦è¼ƒå¤§æ™‚ï¼Œè®“å…©å€‹æŒ‰éˆ•ä¸¦æ’ */
    @media (min-width: 480px) {
        .final-actions-container {
            flex-direction: row; /* æ°´å¹³æ’åˆ— */
            justify-content: center; /* æŒ‰éˆ•æ°´å¹³å±…ä¸­ */
        }
        .final-actions-container .action-button {
            width: auto; /* è®“æŒ‰éˆ•å¯¬åº¦æ ¹æ“šå…§å®¹èª¿æ•´ */
            min-width: 180px; /* çµ¦æŒ‰éˆ•ä¸€å€‹æœ€å°å¯¬åº¦ */
            padding-left: 25px;
            padding-right: 25px;
        }
    }


    @media (max-width: 600px) {
      .question.active {
        flex-direction: column;
        align-items: center;
      }
      .question-left-panel, .question-right-panel {
        flex-basis: 100%;
        padding-left: 0;
        padding-right: 0;
        align-items: center;
      }
      .question-right-panel {
        margin-top: 20px;
      }
      img {
        max-width: 80%;
      }
      h1 {
        font-size: 2em;
      }
      .learn-vocab-button {
        max-width: 90%;
      }
    }
  </style>
</head>
<body>
  <h1>âœˆï¸ æˆåŠŸé£›ç¾åœ‹</h1>

  <!-- å•é¡Œ 1 (åŸæœ¬çš„ç¬¬ä¸€é¡Œ) -->
  <div class="question active" id="q1">
    <div class="question-header">
      <h2>ç¬¬ä¸€é—œ: é—œæ–¼æ©Ÿç¥¨ ğŸ«</h2>
    </div>
    <div class="question-left-panel">
      <img src="images/ticket.png" alt="Ticket Image" />
      <audio id="audio1" src="audio/q1_question.mp3" preload="auto"></audio>
      <button class="play-audio-button" onclick="playQuestionAudio(1)">ğŸ”Š è½é¡Œç›®</button>
    </div>
    <div class="question-right-panel">
      <div class="options-container">
        <button onclick="checkAnswer(1, this, 'LAX')">LAX (æ´›æ‰ç£¯)</button>
        <button onclick="checkAnswer(1, this, 'JFK')">JFK (ç´ç´„)</button>
        <button onclick="checkAnswer(1, this, 'SFO')">SFO (èˆŠé‡‘å±±)</button>
        <button onclick="checkAnswer(1, this, 'SFO')">TPE (å°ç£)</button>
      </div>
      <div id="feedback1" class="feedback-container"></div>
    </div>
  </div>

  <!-- æ–°å¢å•é¡Œ (ç¾åœ¨æ˜¯ç¬¬äºŒé¡Œ) -->
  <div class="question" id="q2">
    <div class="question-header">
      <h2>ç¬¬äºŒé—œ:ğŸ’º</h2>
    </div>
    <div class="question-left-panel">
      <img src="images/ticket.png" alt="Ticket Image for Seat Number" /> <!-- ä½¿ç”¨ ticket.png -->
      <audio id="audio2" src="audio/q2_question.mp3" preload="auto"></audio>
      <button class="play-audio-button" onclick="playQuestionAudio(2)">ğŸ”Š è½é¡Œç›®</button>
    </div>
    <div class="question-right-panel">
      <div class="options-container">
        <button onclick="checkAnswer(2, this, 'Iâ€™m going to Los Angeles.')"> Iâ€™m going to Los Angeles. </button>
        <button onclick="checkAnswer(2, this, 'Yes, I have a passport.')"> Yes, I have a passport. </button>
        <button onclick="checkAnswer(2, this, 'Itâ€™s 24A.')"> Itâ€™s 24A. </button>
        <button onclick="checkAnswer(2, this, 'I like window seats.')"> I like window seats. </button>
      </div>
      <div id="feedback2" class="feedback-container"></div>
    </div>
  </div>

  <!-- å•é¡Œ 3 (åŸæœ¬çš„ç¬¬äºŒé¡Œ) -->
  <div class="question" id="q3">
    <div class="question-header">
      <h2>ç¬¬ä¸‰é—œ: æµ·é—œæŸ¥é©— ğŸ‘®</h2>
    </div>
    <div class="question-left-panel">
      <img src="images/security.png" alt="Security Check Image" />
      <audio id="audio3" src="audio/q3_question.mp3" preload="auto"></audio> <!-- audio3, q3_question -->
      <button class="play-audio-button" onclick="playQuestionAudio(3)">ğŸ”Š è½é¡Œç›®</button> <!-- playQuestionAudio(3) -->
    </div>
    <div class="question-right-panel">
      <div class="options-container">
        <button onclick="checkAnswer(3, this, 'Yes, here you are.')"> Yes, here you are. </button> <!-- checkAnswer(3, ...) -->
        <button onclick="checkAnswer(3, this, 'No, I donâ€™t like passports.')"> No, I donâ€™t like passports. </button>
        <button onclick="checkAnswer(3, this, 'Iâ€™m flying to Tokyo.')"> Iâ€™m flying to Tokyo. </button>
        <button onclick="checkAnswer(3, this, 'My seat is 12A.')"> My seat is 12A. </button>
      </div>
      <div id="feedback3" class="feedback-container"></div> <!-- feedback3 -->
    </div>
  </div>

  <!-- å•é¡Œ 4 (åŸæœ¬çš„ç¬¬ä¸‰é¡Œ) -->
  <div class="question" id="q4">
    <div class="question-header">
      <h2>ç¬¬å››é—œ: åœ¨æ©Ÿä¸Šé»é¤ ğŸ½ï¸</h2>
    </div>
    <div class="question-left-panel">
      <img src="images/meal.png" alt="Airplane Meal Image" />
      <audio id="audio4" src="audio/q4_question.mp3" preload="auto"></audio> <!-- audio4, q4_question -->
      <button class="play-audio-button" onclick="playQuestionAudio(4)">ğŸ”Š è½é¡Œç›®</button> <!-- playQuestionAudio(4) -->
    </div>
    <div class="question-right-panel">
      <div class="options-container">
        <button onclick="checkAnswer(4, this, 'Chicken')">Chicken </button> <!-- checkAnswer(4, ...) -->
        <button onclick="checkAnswer(4, this, 'Beef')">Beef </button>
      </div>
      <div id="feedback4" class="feedback-container"></div> <!-- feedback4 -->
    </div>
  </div>

  <!-- å•é¡Œ 5 (åŸæœ¬çš„ç¬¬å››é¡Œ) -->
  <div class="question" id="q5">
    <div class="question-header">
      <h2>ç¬¬äº”é—œ: å…¥å¢ƒæå• ğŸ›ƒ</h2>
    </div>
    <div class="question-left-panel">
      <img src="images/customs.png" alt="Customs Image" />
      <audio id="audio5" src="audio/q5_question.mp3" preload="auto"></audio> <!-- audio5, q5_question -->
      <button class="play-audio-button" onclick="playQuestionAudio(5)">ğŸ”Š è½é¡Œç›®</button> <!-- playQuestionAudio(5) -->
    </div>
    <div class="question-right-panel">
      <div class="options-container">
        <button onclick="checkAnswer(5, this, 'Two weeks')">Two weeks </button> <!-- checkAnswer(5, ...) -->
        <button onclick="checkAnswer(5, this, 'Forever')">Forever </button>
        <button onclick="checkAnswer(5, this, 'Not sure')">Not sure </button>
      </div>
      <div id="feedback5" class="feedback-container"></div> <!-- feedback5 -->
    </div>
  </div>

  <!-- å®Œæˆç•«é¢ (ç¾åœ¨æ˜¯ç¬¬å…­é—œ/ç•«é¢) -->
  <div class="question" id="q6"> <!-- id="q6" -->
    <div class="question-header">
        <h2>ğŸ‰ ä»»å‹™å®Œæˆï¼ Mission Accomplished! ğŸ‰</h2>
    </div>
    <p>ğŸ¥³ ä½ å·²æˆåŠŸé£›æŠµç¾åœ‹ï¼æ­å–œä½ å®Œæˆæ‰€æœ‰é—œå¡ï¼ ğŸ¥³<br>Welcome to the USA!</p>
    <audio id="audio_win" src="audio/win_sound.mp3" preload="auto"></audio>

    <!-- æ–°å¢ä¸€å€‹å®¹å™¨ä¾†åŒ…è£¹æœ€çµ‚çš„è¡Œå‹•æŒ‰éˆ• -->
    <div class="final-actions-container">
        <a href="https://wordwall.net/play/92775/603/216" target="_blank" class="action-button learn-vocab-button">
          ğŸ“š å‰å¾€å­¸ç¿’å–®å­—
        </a>
        <!-- æ–°å¢å£èªªç·´ç¿’æŒ‰éˆ• -->
        <a href="https://www.learnmode.net/course/625023?passcode=623523" target="_blank" class="action-button speaking-practice-button">
          ğŸ—£ï¸ é–‹å§‹å£èªªç·´ç¿’
        </a>
    </div>
  </div>

  <script>
    const correctAnswers = {
      1: 'LAX',
      2: 'Itâ€™s 24A.', // æ–°å¢å•é¡Œçš„æ­£ç¢ºç­”æ¡ˆ
      3: 'Yes, here you are.', // åŸ q2 çš„ç­”æ¡ˆï¼Œç¾ç‚º q3
      4: ['Chicken', 'Beef'], // åŸ q3 çš„ç­”æ¡ˆï¼Œç¾ç‚º q4
      5: 'Two weeks' // åŸ q4 çš„ç­”æ¡ˆï¼Œç¾ç‚º q5
      // q6 æ˜¯å®Œæˆç•«é¢ï¼Œæ²’æœ‰ç­”æ¡ˆ
    };
    let currentPlayingAudio = null;

    function playQuestionAudio(questionNumber) {
      if (currentPlayingAudio && !currentPlayingAudio.paused) {
        currentPlayingAudio.pause();
        currentPlayingAudio.currentTime = 0;
      }
      const audioElement = document.getElementById(`audio${questionNumber}`);
      if (audioElement) {
        audioElement.play().catch(error => {
          console.error("éŸ³æª”æ’­æ”¾å¤±æ•—:", error);
          const feedbackContainer = document.getElementById(`feedback${questionNumber}`);
          if(feedbackContainer) feedbackContainer.innerHTML = `<p class="feedback-message incorrect">ğŸ”Š éŸ³æª”æ’­æ”¾ä¼¼ä¹å‡ºäº†é»å•é¡Œã€‚</p>`;
        });
        currentPlayingAudio = audioElement;
      }
    }

    function checkAnswer(questionNumber, button, selectedAnswer) {
      const feedbackContainer = document.getElementById(`feedback${questionNumber}`);
      const optionButtons = document.querySelectorAll(`#q${questionNumber} .options-container button`);
      const playButton = document.querySelector(`#q${questionNumber} .play-audio-button`);

      optionButtons.forEach(btn => btn.disabled = true);
      if(playButton) playButton.disabled = true;

      let isCorrect = false;
      const correctAnswerForQuestion = correctAnswers[questionNumber];

      // ç‰¹åˆ¥è™•ç†ç¬¬å››é¡Œï¼ˆåŸç¬¬ä¸‰é¡Œï¼‰çš„å¤šé‡ç­”æ¡ˆ
      if (questionNumber === 4) { // æ³¨æ„é€™è£¡çš„é¡Œè™Ÿå·²ç¶“æ›´æ–°
        isCorrect = correctAnswerForQuestion.includes(selectedAnswer);
      } else {
        isCorrect = (selectedAnswer === correctAnswerForQuestion);
      }

      if (isCorrect) {
        feedbackContainer.innerHTML = '<p class="feedback-message correct">âœ… æ­£ç¢ºï¼Excellent!</p>';
        button.style.backgroundColor = '#28a745';
        setTimeout(() => nextQuestion(questionNumber), 1200);
      } else {
        feedbackContainer.innerHTML = '<p class="feedback-message incorrect">âŒ å“å‘€ï¼å›ç­”ä¸æ°ç•¶å“¦ï¼Œå†æƒ³æƒ³ï¼</p>';
        button.style.backgroundColor = '#dc3545';
        setTimeout(() => {
            optionButtons.forEach(btn => btn.disabled = false);
            if(playButton) playButton.disabled = false;
            button.style.backgroundColor = '';
            feedbackContainer.innerHTML = '';
        }, 2000);
      }
    }

    function nextQuestion(current) {
      const currentAudio = document.getElementById(`audio${current}`);
      if (currentAudio && !currentAudio.paused) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
      }
      currentPlayingAudio = null;

      document.getElementById(`q${current}`).classList.remove('active');
      const next = current + 1;
      const nextQuestionElement = document.getElementById(`q${next}`);

      if (nextQuestionElement) {
        nextQuestionElement.classList.add('active');
        const nextOptionButtons = document.querySelectorAll(`#q${next} .options-container button`);
        const nextPlayButton = document.querySelector(`#q${next} .play-audio-button`);
        nextOptionButtons.forEach(btn => btn.disabled = false);
        if(nextPlayButton) nextPlayButton.disabled = false;
      } else {
        // æ‰€æœ‰å•é¡Œéƒ½å®Œæˆäº† (ç¾åœ¨æ˜¯ q6)
        const winAudio = document.getElementById('audio_win');
        if (winAudio) {
            winAudio.play().catch(e => console.log("å‹åˆ©éŸ³æ•ˆæ’­æ”¾å¤±æ•—", e));
        }
      }
    }

    window.onload = () => {
        document.querySelectorAll('.question').forEach((questionDiv, index) => {
            const playBtn = questionDiv.querySelector('.play-audio-button');
            const optionBtns = questionDiv.querySelectorAll('.options-container button');

            const isActiveQuestion = (index === 0); // åªæœ‰ç¬¬ä¸€å€‹å•é¡Œ (q1) åˆå§‹å•Ÿç”¨
            if(playBtn) playBtn.disabled = !isActiveQuestion;
            optionBtns.forEach(btn => btn.disabled = !isActiveQuestion);
        });

        const q6Element = document.getElementById('q6'); // æ›´æ–°ç‚º q6
        if (q6Element && q6Element.classList.contains('active')) {
            const winAudio = document.getElementById('audio_win');
            if (winAudio && winAudio.paused) {
                 winAudio.play().catch(e => console.log("ç›´æ¥åŠ è¼‰ q6 æ™‚å‹åˆ©éŸ³æ•ˆæ’­æ”¾å¤±æ•—", e));
            }
        }
    };
  </script>
</body>
</html>