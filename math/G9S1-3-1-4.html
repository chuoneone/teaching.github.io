<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹¾ä½•è­‰æ˜ï¼šè¼”åŠ©ç·šçš„æ‡‰ç”¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f9ff; /* æŸ”å’Œè—åº• */
            overscroll-behavior: none; /* é˜²æ­¢æ‰‹æ©Ÿä¸‹æ‹‰é‡æ–°æ•´ç† */
        }

        /* æ•¸å­¸ç¬¦è™Ÿæ¨£å¼ */
        .math-text {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            display: inline-block;
        }
        
        .overline {
            text-decoration: overline;
            text-decoration-thickness: 1.5px;
            margin: 0 2px;
        }

        .math-symbol {
            font-family: 'Times New Roman', serif;
            font-style: normal;
            margin: 0 2px;
        }

        /* å¡«ç­”æ ¼æ¨£å¼ */
        .slot {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            height: 40px;
            padding: 0 10px;
            margin: 0 4px;
            border: 2px dashed #94a3b8;
            border-radius: 8px;
            background-color: white;
            color: #334155;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            vertical-align: middle;
        }

        .slot.filled {
            border-style: solid;
            border-color: #3b82f6;
            background-color: #eff6ff;
        }

        .slot.correct {
            border-color: #22c55e;
            background-color: #dcfce7;
            color: #15803d;
        }

        /* é¸é …æŒ‰éˆ•æ¨£å¼ */
        .option-btn {
            background-color: white;
            border: 2px solid #cbd5e1;
            border-bottom: 4px solid #94a3b8; /* ç«‹é«”æ„Ÿ */
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: bold;
            color: #1e293b;
            transition: all 0.1s;
            user-select: none;
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            border-bottom-width: 2px;
        }

        .option-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background-color: #e2e8f0;
            border-color: #cbd5e1;
            transform: none;
        }

        /* å‹•ç•« */
        @keyframes tada {
            0% { transform: scale(1); }
            10%, 20% { transform: scale(0.9) rotate(-3deg); }
            30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }
            40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }
            100% { transform: scale(1) rotate(0); }
        }

        .animate-tada {
            animation: tada 1s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-container {
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        /* éš±è—æ²è»¸ä½†ä¿æŒåŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <!-- é ‚éƒ¨å°è¦½åˆ— (å¤šé¡Œåˆ‡æ›) -->
    <nav class="bg-white shadow-md z-20 flex-none h-16 flex items-center px-4 overflow-x-auto no-scrollbar whitespace-nowrap">
        <span class="font-bold text-lg text-slate-700 mr-4">ğŸ“ å¹¾ä½•è­‰æ˜äº’å‹•</span>
        <div id="nav-buttons" class="flex gap-2">
            <!-- å‹•æ…‹ç”Ÿæˆé¡Œç›®æŒ‰éˆ• -->
        </div>
    </nav>

    <!-- ä¸»å…§å®¹å€ -->
    <main class="flex-1 flex flex-col md:flex-row overflow-hidden relative">
        
        <!-- å·¦å´ï¼šé¡Œç›®å€ (æ¡Œæ©Ÿå›ºå®šï¼Œæ‰‹æ©Ÿç½®é ‚) -->
        <section class="w-full md:w-5/12 lg:w-1/3 bg-slate-50 border-b md:border-b-0 md:border-r border-slate-200 flex flex-col z-10 shadow-sm md:shadow-none h-[40vh] md:h-full shrink-0">
            <div class="p-6 overflow-y-auto custom-scrollbar h-full">
                <div class="sticky top-0 bg-slate-50 pb-2 mb-4 border-b border-slate-200">
                    <h1 class="text-xl md:text-2xl font-bold text-slate-800 mb-2 flex items-center gap-2">
                        <span class="bg-blue-100 text-blue-600 px-2 py-1 rounded text-sm">é¡Œç›®</span>
                        è¼”åŠ©ç·šçš„æ‡‰ç”¨
                    </h1>
                </div>

                <div class="space-y-6 text-lg">
                    <div class="text-slate-700 leading-loose">
                        å¦‚åœ–ï¼Œå·²çŸ¥ 
                        <span class="math-text"><span class="overline">AB</span> = <span class="overline">AC</span></span>ï¼Œ
                        <span class="math-text"><span class="overline">BD</span> = <span class="overline">CD</span></span>ã€‚
                        <br>
                        <span class="bg-yellow-100 px-1 rounded border-b-2 border-yellow-300">æ±‚è­‰</span>ï¼š
                        <span class="math-text">âˆ ABD = âˆ ACD</span>ã€‚
                    </div>

                    <!-- SVG åœ–å½¢ç¹ªè£½ -->
                    <div class="flex justify-center my-4 bg-white p-4 rounded-xl shadow-inner border border-slate-100">
                        <svg id="geometry-svg" width="280" height="220" viewBox="0 0 280 220" xmlns="http://www.w3.org/2000/svg">
                            <!-- åœ–å½¢å…§å®¹ç”± JS å‹•æ…‹ç”Ÿæˆï¼Œæˆ–é è¨­å¦‚ä¸‹ -->
                            <defs>
                                <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
                                <path d="M0,0 L0,6 L9,3 z" fill="#000" />
                                </marker>
                            </defs>
                            <!-- Triangle ABC ish shape -->
                            <path d="M140 20 L40 160 L140 120 L240 160 Z" fill="none" stroke="#334155" stroke-width="2.5" stroke-linejoin="round"/>
                            <!-- Auxiliary Line AD (Hidden initially or dashed) -->
                            <line id="aux-line" x1="140" y1="20" x2="140" y2="120" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" opacity="0.3"/>
                            
                            <!-- Points -->
                            <text x="140" y="15" text-anchor="middle" font-weight="bold" font-size="16">A</text>
                            <text x="30" y="170" text-anchor="middle" font-weight="bold" font-size="16">B</text>
                            <text x="250" y="170" text-anchor="middle" font-weight="bold" font-size="16">C</text>
                            <text x="140" y="145" text-anchor="middle" font-weight="bold" font-size="16">D</text>
                            
                            <!-- Tick marks for AB=AC -->
                            <line x1="85" y1="85" x2="95" y2="95" stroke="#3b82f6" stroke-width="2"/>
                            <line x1="185" y1="95" x2="195" y2="85" stroke="#3b82f6" stroke-width="2"/>

                             <!-- Tick marks for BD=CD -->
                             <line x1="85" y1="145" x2="95" y2="135" stroke="#3b82f6" stroke-width="2"/>
                             <line x1="88" y1="148" x2="98" y2="138" stroke="#3b82f6" stroke-width="2"/>

                             <line x1="185" y1="135" x2="195" y2="145" stroke="#3b82f6" stroke-width="2"/>
                             <line x1="182" y1="138" x2="192" y2="148" stroke="#3b82f6" stroke-width="2"/>
                        </svg>
                    </div>

                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                        <h3 class="font-bold text-blue-800 mb-1">ğŸ’¡ è§£é¡Œæç¤º</h3>
                        <p class="text-slate-600 text-base">å…©å€‹ä¸‰è§’å½¢å¦‚æœã€Œä¸‰é‚Šé•·ã€éƒ½å°æ‡‰ç›¸ç­‰ï¼Œå®ƒå€‘å°±å…¨ç­‰ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- å³å´ï¼šæ­¥é©Ÿè§£é–å€ -->
        <section class="flex-1 bg-white flex flex-col h-full overflow-hidden">
            <div id="steps-container" class="flex-1 overflow-y-auto p-4 md:p-8 space-y-8 pb-32 scroll-smooth">
                <!-- æ­¥é©Ÿå°‡ç”± JS å‹•æ…‹æ’å…¥ -->
            </div>
        </section>
        
    </main>

    <!-- è…³æœ¬é‚è¼¯ -->
    <script>
        // è³‡æ–™çµæ§‹ï¼šé¡Œç›®èˆ‡æ­¥é©Ÿ
        const questions = [
            {
                id: 1,
                title: "é¡Œç›® 1",
                steps: [
                    {
                        instruction: "ç¬¬ä¸€æ­¥ï¼šä½œè¼”åŠ©ç·š",
                        content: `é€£æ¥ <div class="slot" data-ans="AD"></div>`,
                        options: ["AB", "AD", "BC"],
                        correct: ["AD"],
                        hint: "æˆ‘å€‘éœ€è¦å°‡åœ–å½¢åˆ‡æˆå…©å€‹ä¸‰è§’å½¢ï¼Œé€£æ¥Aé»å’ŒDé»è©¦è©¦çœ‹ã€‚",
                        onUnlock: () => {
                            document.getElementById('aux-line').style.opacity = '1';
                            document.getElementById('aux-line').style.strokeWidth = '3';
                        }
                    },
                    {
                        instruction: "ç¬¬äºŒæ­¥ï¼šç¢ºèªè¦æ¯”è¼ƒçš„ä¸‰è§’å½¢",
                        content: `åœ¨ <div class="slot" data-ans="â–³ABD"></div> èˆ‡ <div class="slot" data-ans="â–³ACD"></div> ä¸­ï¼Œ`,
                        options: ["â–³ABD", "â–³ACD", "â–³ABC", "â–³DBC"],
                        correct: ["â–³ABD", "â–³ACD"], // é †åºå¯äº’æ›çš„é‚è¼¯ç¨å¾Œè™•ç†ï¼Œé€™è£¡å‡è¨­å›ºå®šæˆ–ç°¡å–®å°æ‡‰
                        allowSwap: true // æ¨™è¨˜é€™å…©å€‹ç­”æ¡ˆå¯ä»¥äº’æ›ä½ç½®
                    },
                    {
                        instruction: "ç¬¬ä¸‰æ­¥ï¼šæ‰¾å‡ºç¬¬ä¸€å€‹å·²çŸ¥æ¢ä»¶",
                        content: `å› ç‚º <span class="math-text"><span class="overline">AB</span></span> = <div class="slot" data-ans="AC"></div> (å·²çŸ¥)ï¼Œ`,
                        options: ["AC", "BC", "AD"],
                        correct: ["AC"]
                    },
                    {
                        instruction: "ç¬¬å››æ­¥ï¼šæ‰¾å‡ºç¬¬äºŒå€‹å·²çŸ¥æ¢ä»¶",
                        content: `<div class="slot" data-ans="BD"></div> = <span class="math-text"><span class="overline">CD</span></span> (å·²çŸ¥)ï¼Œ`,
                        options: ["AB", "BD", "AD"],
                        correct: ["BD"]
                    },
                    {
                        instruction: "ç¬¬äº”æ­¥ï¼šæ‰¾å‡ºå…¬ç”¨é‚Š (éš±è—æ¢ä»¶)",
                        content: `<div class="slot" data-ans="AD"></div> = <span class="math-text"><span class="overline">AD</span></span> (å…¬ç”¨é‚Š)ï¼Œ`,
                        options: ["AB", "BC", "AD"],
                        correct: ["AD"]
                    },
                    {
                        instruction: "ç¬¬å…­æ­¥ï¼šç¢ºèªå…¨ç­‰æ€§è³ª",
                        content: `æ‰€ä»¥ â–³ABD <span class="math-symbol">â‰…</span> â–³ACD (<div class="slot" data-ans="SSS"></div> å…¨ç­‰æ€§è³ª)ï¼Œ`,
                        options: ["SAS", "SSS", "ASA", "RHS"],
                        correct: ["SSS"]
                    },
                    {
                        instruction: "ç¬¬ä¸ƒæ­¥ï¼šå¾—å‡ºçµè«–",
                        content: `æ•… <span class="math-text">âˆ ABD</span> = <div class="slot" data-ans="âˆ ACD"></div> ã€‚`,
                        options: ["âˆ ACD", "âˆ BAD", "âˆ CAD"],
                        correct: ["âˆ ACD"],
                        final: true
                    }
                ]
            }
        ];

        let currentQIndex = 0;
        let currentStepIndex = 0;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            renderNav();
            loadQuestion(0);
        });

        function renderNav() {
            const nav = document.getElementById('nav-buttons');
            nav.innerHTML = questions.map((q, idx) => `
                <button onclick="loadQuestion(${idx})" 
                    class="px-4 py-1 rounded-full text-sm font-bold whitespace-nowrap transition-colors
                    ${idx === currentQIndex ? 'bg-blue-600 text-white shadow-md' : 'bg-slate-100 text-slate-500 hover:bg-slate-200'}">
                    ${q.title}
                </button>
            `).join('');
        }

        function loadQuestion(index) {
            currentQIndex = index;
            currentStepIndex = 0;
            renderNav();
            
            // é‡ç½® SVG ç‹€æ…‹ (éš±è—è¼”åŠ©ç·š)
            const auxLine = document.getElementById('aux-line');
            if(auxLine) {
                auxLine.style.opacity = '0.3';
                auxLine.style.strokeWidth = '2';
            }

            const container = document.getElementById('steps-container');
            container.innerHTML = ''; // æ¸…ç©º
            renderStep(0); // æ¸²æŸ“ç¬¬ä¸€æ­¥
        }

        function renderStep(stepIdx) {
            const q = questions[currentQIndex];
            if (stepIdx >= q.steps.length) return;

            const stepData = q.steps[stepIdx];
            const stepEl = document.createElement('div');
            stepEl.className = 'step-container bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-32'; // mb-32 ensures scroll space
            stepEl.id = `step-${stepIdx}`;

            // ç”Ÿæˆé¸é …æŒ‰éˆ• HTML
            const optionsHtml = stepData.options.map(opt => `
                <button class="option-btn text-lg md:text-xl" onclick="handleOptionClick(this, '${opt}', ${stepIdx})">
                    ${formatMathText(opt)}
                </button>
            `).join('');

            // ç”Ÿæˆå…§å®¹ HTML (è™•ç†ç‰¹æ®Šæ•¸å­¸æ ¼å¼)
            let formattedContent = stepData.content.replace(/class="slot"/g, `class="slot text-xl md:text-2xl" onclick="handleSlotClick(this, ${stepIdx})"`);
            // ç°¡å–®è™•ç† overline é¡¯ç¤ºåœ¨é¸é …å…§çš„é‚è¼¯ (å¦‚æœéœ€è¦)
            
            stepEl.innerHTML = `
                <div class="bg-slate-50 px-4 py-2 border-b border-slate-100 flex justify-between items-center">
                    <span class="font-bold text-slate-500 text-sm md:text-base">${stepData.instruction}</span>
                    <span class="status-icon hidden text-green-500 font-bold text-sm bg-green-100 px-2 py-0.5 rounded-full">âœ” å®Œæˆ</span>
                </div>
                <div class="p-6 flex flex-col gap-6">
                    <div class="step-content text-xl md:text-2xl leading-relaxed flex flex-wrap items-center gap-2 font-medium text-slate-800">
                        ${formattedContent}
                    </div>
                    
                    <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                        <div class="text-sm text-slate-400 mb-2 font-bold">è«‹é»æ“Šä¸‹æ–¹é¸é …å¡«å…¥ï¼š</div>
                        <div class="flex flex-wrap gap-3" id="options-${stepIdx}">
                            ${optionsHtml}
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-2">
                        <div class="feedback-msg text-orange-500 font-bold h-6 transition-opacity opacity-0"></div>
                        <button onclick="checkAnswer(${stepIdx})" 
                            class="check-btn bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-lg shadow-blue-200 transition-all active:scale-95">
                            æª¢æŸ¥ç­”æ¡ˆ
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('steps-container').appendChild(stepEl);
            
            // å¹³æ»‘æ²å‹•åˆ°æ–°æ­¥é©Ÿ
            setTimeout(() => {
                stepEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }

        // è¼”åŠ©å‡½å¼ï¼šç°¡å–®è™•ç†æ•¸å­¸æ–‡å­—é¡¯ç¤º (ä¾‹å¦‚ AD è®Š \overline{AD})
        function formatMathText(text) {
            // å¦‚æœæ˜¯ç·šæ®µ (2å€‹å¤§å¯«è‹±æ–‡å­—æ¯)
            if (/^[A-Z]{2}$/.test(text)) {
                return `<span class="math-text"><span class="overline">${text}</span></span>`;
            }
            // å¦‚æœæ˜¯ä¸‰è§’å½¢
            if (text.startsWith('â–³')) {
                 return `<span class="math-text">${text}</span>`;
            }
            // å¦‚æœæ˜¯è§’
            if (text.startsWith('âˆ ')) {
                 return `<span class="math-text">${text}</span>`;
            }
            return text;
        }

        // é»æ“Šé¸é …é‚è¼¯
        window.handleOptionClick = function(btn, value, stepIdx) {
            const stepEl = document.getElementById(`step-${stepIdx}`);
            const slots = stepEl.querySelectorAll('.slot');
            
            // æ‰¾åˆ°ç¬¬ä¸€å€‹ç©ºçš„ slot
            let targetSlot = null;
            for (let slot of slots) {
                if (!slot.dataset.value) {
                    targetSlot = slot;
                    break;
                }
            }

            if (targetSlot) {
                // å¡«å…¥
                targetSlot.innerHTML = formatMathText(value);
                targetSlot.dataset.value = value;
                targetSlot.classList.add('filled');
                
                // ç¦ç”¨æŒ‰éˆ•
                btn.disabled = true;
                btn.dataset.usedFor = value; // æ¨™è¨˜
                
                // æ¸…é™¤éŒ¯èª¤è¨Šæ¯
                stepEl.querySelector('.feedback-msg').style.opacity = '0';
            } else {
                showFeedback(stepIdx, "æ ¼å­éƒ½æ»¿äº†å–”ï¼è«‹å…ˆé»æ“Šæ ¼å­æ¸…é™¤å…§å®¹ã€‚", "text-slate-500");
            }
        };

        // é»æ“Š Slot æ¸…é™¤é‚è¼¯
        window.handleSlotClick = function(slot, stepIdx) {
            if (!slot.dataset.value || slot.classList.contains('correct')) return; // å·²é–å®šä¸å¯æ¸…

            const val = slot.dataset.value;
            const stepEl = document.getElementById(`step-${stepIdx}`);
            
            // æ¢å¾©å°æ‡‰æŒ‰éˆ•
            const buttons = stepEl.querySelectorAll('.option-btn');
            for (let btn of buttons) {
                // æ¯”å°æŒ‰éˆ•åŸå§‹æ–‡å­—å…§å®¹èˆ‡å€¼
                if (btn.disabled && btn.textContent.trim().includes(val) || btn.getAttribute('onclick').includes(`'${val}'`)) {
                    btn.disabled = false;
                    break;
                }
            }

            // æ¸…ç©º Slot
            slot.innerHTML = '';
            slot.dataset.value = '';
            slot.classList.remove('filled');
        };

        // æª¢æŸ¥ç­”æ¡ˆé‚è¼¯
        window.checkAnswer = function(stepIdx) {
            const stepData = questions[currentQIndex].steps[stepIdx];
            const stepEl = document.getElementById(`step-${stepIdx}`);
            const slots = Array.from(stepEl.querySelectorAll('.slot'));
            const userAnswers = slots.map(s => s.dataset.value);

            // æª¢æŸ¥æ˜¯å¦æœ‰ç©º
            if (userAnswers.some(v => !v)) {
                showFeedback(stepIdx, "é‚„æœ‰ç©ºæ ¼æ²’å¡«å®Œå–”ï¼", "text-orange-500");
                return;
            }

            // é©—è­‰é‚è¼¯
            let isCorrect = true;

            if (stepData.allowSwap) {
                // å¦‚æœå…è¨±é †åºäº’æ› (ä¾‹å¦‚ â–³ABD å’Œ â–³ACD)
                // æª¢æŸ¥ userAnswers æ˜¯å¦åŒ…å«æ‰€æœ‰ correctAnswers (ä¸è¨ˆé †åº)
                const sortedUser = [...userAnswers].sort();
                const sortedCorrect = [...stepData.correct].sort();
                isCorrect = JSON.stringify(sortedUser) === JSON.stringify(sortedCorrect);
            } else {
                // åš´æ ¼é †åº
                isCorrect = userAnswers.every((val, i) => val === stepData.correct[i]);
            }

            if (isCorrect) {
                // ç­”å°è™•ç†
                handleCorrect(stepIdx, slots, stepData);
            } else {
                // ç­”éŒ¯è™•ç†
                showFeedback(stepIdx, "å†æƒ³æƒ³çœ‹ï¼Œç­”æ¡ˆå¥½åƒä¸å¤ªå°å–”ï¼", "text-red-500");
                stepEl.classList.add('animate-shake'); // å¯ä»¥åŠ å€‹æ–æ™ƒå‹•ç•« CSS
                setTimeout(() => stepEl.classList.remove('animate-shake'), 500);
            }
        };

        function handleCorrect(stepIdx, slots, stepData) {
            const stepEl = document.getElementById(`step-${stepIdx}`);
            
            // 1. è¦–è¦ºå›é¥‹
            slots.forEach(s => s.classList.add('correct'));
            stepEl.querySelector('.check-btn').style.display = 'none'; // éš±è—æŒ‰éˆ•
            stepEl.querySelector('.status-icon').classList.remove('hidden'); // é¡¯ç¤ºå®Œæˆå‹¾å‹¾
            stepEl.querySelector('.feedback-msg').innerHTML = `<span class="text-green-600">ğŸ‰ å¤ªæ£’äº†ï¼ç­”å°äº†ï¼</span>`;
            stepEl.querySelector('.feedback-msg').style.opacity = '1';
            stepEl.classList.add('animate-tada'); // Tada å‹•ç•«

            // 2. åŸ·è¡Œè©²æ­¥é©Ÿçš„ç‰¹æ®Šå›èª¿ (å¦‚ç•«ç·š)
            if (stepData.onUnlock) {
                stepData.onUnlock();
            }

            // 3. è§£é–ä¸‹ä¸€æ­¥
            if (stepIdx < questions[currentQIndex].steps.length - 1) {
                setTimeout(() => {
                    renderStep(stepIdx + 1);
                }, 1200); // ç¨å¾®å»¶é²è®“å­¸ç”Ÿçœ‹å®Œè®šç¾
            } else {
                // å…¨éƒ¨å®Œæˆ
                setTimeout(() => {
                    showCompletionModal();
                }, 1500);
            }
        }

        function showFeedback(stepIdx, msg, colorClass) {
            const el = document.querySelector(`#step-${stepIdx} .feedback-msg`);
            el.textContent = msg;
            el.className = `feedback-msg font-bold h-6 transition-opacity opacity-100 ${colorClass}`;
            
            // 3ç§’å¾Œæ·¡å‡º
            setTimeout(() => {
                if(el) el.style.opacity = '0';
            }, 3000);
        }

        function showCompletionModal() {
            // ç°¡å–®çš„å…¨è¢å¹•æ…¶ç¥
            const div = document.createElement('div');
            div.className = "fixed inset-0 bg-black/70 z-50 flex items-center justify-center animate-fadeIn";
            div.innerHTML = `
                <div class="bg-white p-8 rounded-2xl text-center max-w-sm mx-4 shadow-2xl transform scale-100">
                    <div class="text-6xl mb-4">ğŸ†</div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">æ­å–œå®Œæˆï¼</h2>
                    <p class="text-slate-600 mb-6">ä½ å·²ç¶“å­¸æœƒäº†å¦‚ä½•ä½¿ç”¨è¼”åŠ©ç·šè­‰æ˜å…¨ç­‰ä¸‰è§’å½¢ï¼</p>
                    <button onclick="location.reload()" class="bg-blue-600 text-white px-6 py-2 rounded-full font-bold hover:bg-blue-700 transition">å†ä¾†ä¸€æ¬¡</button>
                </div>
            `;
            document.body.appendChild(div);
        }
    </script>
</body>
</html>