<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¸ç”Ÿæƒ…ç·’ç´€éŒ„ç³»çµ±</title>    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
    <link rel="icon" href="images/dog.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
   <style>
    /* âœ… é¢¨æ ¼æ›¿æ›: æ•´é«”å­—é«”ã€èƒŒæ™¯èˆ‡æ–‡å­—é¡è‰² */
    body {
        font-family: 'Comic Sans MS', 'Microsoft JhengHei', sans-serif;
        background: #e6f7ff; /* æ”¹ç‚ºæ¸…çˆ½çš„æ·ºè—è‰²èƒŒæ™¯ */
        min-height: 100vh;
        color: #334155; /* æ”¹ç‚ºæ·±è—ç°è‰²æ–‡å­—ï¼Œå°æ¯”æ›´æ¸…æ™° */
        font-size: 20px;
        padding-top: 80px; /* ç‚ºå›ºå®šçš„å°è¦½åˆ—é ç•™ç©ºé–“ */
    }
    .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 1rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        border: 1px solid #cbd5e1; /* é¢¨æ ¼æ›¿æ›: é‚Šæ¡†é¡è‰² */        
        padding-top: 80px; /* ç‚ºå›ºå®šçš„å°è¦½åˆ—é ç•™ç©ºé–“ */
    }
    select, button, textarea {
        transition: all 0.3s ease;
    }
    select:hover, button:hover, textarea:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    .emotion-btn {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 0.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }
    .emotion-btn .emoji { font-size: 1.8rem; margin-bottom: 0.25rem; }
    .emotion-btn .text { font-size: 1rem; font-weight: 500; }
    .emotion-btn:hover { transform: scale(1.1); }
    /* âœ… é¢¨æ ¼æ›¿æ›: é¸ä¸­ç‹€æ…‹æ”¹ç‚ºç´…è‰² */
    .emotion-btn.selected {
        transform: scale(1.1);
        box-shadow: 0 0 0 3px #ff5757;
        border-color: #ff5757;
    }
    .hidden { display: none; }
    /* âœ… é¢¨æ ¼æ›¿æ›: Toast æç¤ºè¨Šæ¯æ”¹ç‚ºè—åº•ç™½å­— */
    .toast {
        position: fixed; bottom: 20px; left: 50%;
        transform: translateX(-50%);
        background-color: #008cff;
        color: #fff;
        padding: 12px 24px; border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        z-index: 1000; opacity: 0; transition: opacity 0.3s ease;
    }
    .toast.show { opacity: 1; }
    /* âœ… é¢¨æ ¼æ›¿æ›: ä¸»è¦æŒ‰éˆ•æ”¹ç‚ºè—è‰² */
    .btn-primary {
        background-color: #008cff;
        border-color: #0078e6;
        color: #fff;
    }
    .btn-primary:hover { background-color: #0078e6; }
    /* âœ… é¢¨æ ¼æ›¿æ›: æ¬¡è¦æŒ‰éˆ•æ”¹ç‚ºæ·ºç°è‰² */
    .btn-secondary {
        background-color: #e2e8f0;
        border-color: #cbd5e1;
        color: #334155;
    }
    .btn-secondary:hover { background-color: #cbd5e1; }
    .btn-disabled {
        background-color: #e5e7eb; border-color: #d1d5db; color: #9ca3af;
        cursor: not-allowed; transform: none; box-shadow: none;
    }
    /* æˆåŠŸè¨Šæ¯çš„ç¶ è‰²é€šå¸¸èˆ‡ä¸»é¡Œç„¡é—œï¼Œä¿ç•™ä»¥ç¶­æŒèªç¾©æ¸…æ™° */
    .success-message {
        background-color: #dcfce7; border: 1px solid #86efac; color: #166534;
        padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;
        text-align: center; font-weight: 500;
    }

    /* å››è±¡é™ä½ˆå±€çš„ CSS */
    .quadrant-layout-wrapper { display: flex; flex-direction: column; align-items: center; margin-top: 1rem; }
    .center-content { display: flex; align-items: stretch; gap: 0.5rem; }
    .axis-label {
        display: flex; align-items: center; justify-content: center;
        color: #334155; /* é¢¨æ ¼æ›¿æ›: è»¸æ¨™ç±¤æ–‡å­—é¡è‰² */
        font-weight: 500; writing-mode: vertical-rl; padding: 0 0.25rem;
    }
    .y-axis-top { writing-mode: horizontal-tb; transform: none; margin-bottom: 0.5rem; }
    .y-axis-bottom { writing-mode: horizontal-tb; transform: none; margin-top: 0.5rem; }
    #emotion-quadrant-container {
        display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: auto auto;
        gap: 10px; width: 900px;
        border: 2px solid #cbd5e1; /* é¢¨æ ¼æ›¿æ›: é‚Šæ¡†é¡è‰² */
        padding: 10px; border-radius: 1rem;
    }
    
    /* â­â­â­ Quadrant æ’åˆ—æ–¹å¼ä¿®æ”¹ â­â­â­ */
    .quadrant {
        padding: 1rem;
        border-radius: 0.75rem;
        min-height: 220px;
        display: flex;
        flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
        justify-content: center; /* æ°´å¹³ç½®ä¸­ */
        align-items: center; /* å‚ç›´é …ç›®å°é½Š */
        gap: 5px; /* æŒ‰éˆ•é–“è· */
        transition: all 0.3s ease;
    }
    /* ç§»é™¤ä¸å†éœ€è¦çš„ button-row */
    /* .button-row { display: flex; justify-content: center; } */

    .quadrant:hover { transform: scale(1.02); box-shadow: 0 8px 16px rgba(0,0,0,0.05); }
    /* æ³¨æ„ï¼šä»¥ä¸‹å››è±¡é™çš„èƒŒæ™¯è‰²å› ä»£è¡¨ä¸åŒæƒ…ç·’ï¼Œäºˆä»¥ä¿ç•™ï¼Œä¸é€²è¡Œé¢¨æ ¼æ›¿æ› */
    .q1 { background-color: #fef3c7; grid-area: 1 / 2 / 2 / 3; } /* å³ä¸Š */
    .q2 { background-color: #fee2e2; grid-area: 1 / 1 / 2 / 2; } /* å·¦ä¸Š */
    .q3 { background-color: #e5e7eb; grid-area: 2 / 1 / 3 / 2; } /* å·¦ä¸‹ */
    .q4 { background-color: #dcfce7; grid-area: 2 / 2 / 3 / 3; } /* å³ä¸‹ */

    /* æƒ…ç·’èªªæ˜ Modal çš„ CSS */
    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex; justify-content: center; align-items: center;
        z-index: 2000; opacity: 0; transition: opacity 0.3s ease;
    }
    .modal-content {
        background-color: #fff;
        color: #334155; /* é¢¨æ ¼æ›¿æ›: æ–‡å­—é¡è‰² */
        padding: 2rem;
        border-radius: 1rem; width: 90%; max-width: 500px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        position: relative; transform: scale(0.95); transition: transform 0.3s ease;
    }
    .modal-overlay.show { opacity: 1; }
    .modal-overlay.show .modal-content { transform: scale(1); }
    .modal-close-btn {
        position: absolute; top: 1rem; right: 1rem;
        font-size: 1.5rem; line-height: 1; color: #9ca3af;
        background: none; border: none; cursor: pointer;
    }
    .modal-title {
        font-size: 1.75rem; font-weight: bold;
        color: #008cff; /* é¢¨æ ¼æ›¿æ›: æ¨™é¡Œæ”¹ç‚ºä¸»é¡Œè— */
        margin-bottom: 1rem;
    }
    .modal-section-title {
        font-weight: 600; margin-bottom: 0.5rem;
        border-left: 4px solid #008cff; /* é¢¨æ ¼æ›¿æ›: å·¦å´é£¾æ¢æ”¹ç‚ºä¸»é¡Œè— */
        padding-left: 0.5rem;
    }
    .modal-text { line-height: 1.75; }

    /* èªéŸ³åŠŸèƒ½æŒ‰éˆ•æ¨£å¼ */
    .speech-btn {
        background: none; border: none; cursor: pointer;
        color: #008cff; /* é¢¨æ ¼æ›¿æ›: åœ–ç¤ºæ”¹ç‚ºä¸»é¡Œè— */
        transition: color 0.2s ease;
        padding: 0.5rem;
    }
    .speech-btn:hover { color: #ff5757; } /* é¢¨æ ¼æ›¿æ›: æ»‘éæ”¹ç‚ºç´…è‰² */
    .speech-btn svg { width: 24px; height: 24px; }

    #mic-btn {
        position: absolute; bottom: 8px; right: 8px;
        background-color: #e2e8f0; /* é¢¨æ ¼æ›¿æ›: æ”¹ç‚ºæ·ºç°è‰² */
        border-radius: 50%; padding: 8px;
    }
    #mic-btn.is-recording {
        background-color: #ff5757; /* é¢¨æ ¼æ›¿æ›: éŒ„éŸ³ç‹€æ…‹æ”¹ç‚ºç´…è‰² */
        color: white;
    }
    #mic-status { color: #334155; } /* é¢¨æ ¼æ›¿æ›: ç‹€æ…‹æ–‡å­—é¡è‰² */


    @media (max-width: 700px) {
        #emotion-quadrant-container { width: 100%; grid-template-columns: 1fr; grid-template-rows: auto; }
        .q1 { grid-area: auto; }
        .q2 { grid-area: auto; }
        .q3 { grid-area: auto; }
        .q4 { grid-area: auto; }
        .center-content { flex-direction: column; }
        .axis-label { writing-mode: horizontal-tb; transform: none; padding: 0.5rem 0; }
    }
</style>
</head>
    <header class="navbar">
        <div class="logo">SPED</div>
        <nav>
            <ul class="nav-links">
                <li><a href="start.html">HOME</a></li>
                <li><a href="tt.html">æƒ…ç·’ç´€éŒ„</a></li>
                <li><a href="7.html">7æ•¸</a></li>
                <li><a href="8.html">8æ•¸</a></li>
                <li><a href="9.html">9æ•¸</a></li>
                <li><a href="7eng.html">7è‹±</a></li>
                <li><a href="8eng.html">8è‹±</a></li>
                <li><a href="9eng.html">9è‹±</a></li>
                <li><a href="7ch.html">7åœ‹</a></li>
                <li><a href="8ch.html">8åœ‹</a></li>
                <li><a href="9ch.html">9åœ‹</a></li>
                <li><a href="bigtest.html">æœƒè€ƒå°ˆå€</a></li>
                <li><a href="learningstrategy.html">å­¸ç¿’ç­–ç•¥</a></li>                
            </ul>

        </nav>
        <div class="menu-toggle" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
    </header>
<body class="py-8">
    <div class="container relative">
        <div id="home-page" class="text-center">
            <h1 class="text-5xl font-bold mb-8 text-blue-800">å­¸ç”Ÿæƒ…ç·’ç´€éŒ„ç³»çµ±</h1>
            <div class="mb-6">
                <label class="block text-lg font-medium mb-2">è«‹é¸æ“‡å¹´ç´šï¼š</label>
                <select id="grade-select" class="w-full p-3 border border-blue-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-md">
                    <option value="" disabled selected>è«‹é¸æ“‡å¹´ç´š</option>
                    <option value="ä¸ƒå¹´ç´š">ä¸ƒå¹´ç´š</option>
                    <option value="å…«å¹´ç´š">å…«å¹´ç´š</option>
                    <option value="ä¹å¹´ç´š">ä¹å¹´ç´š</option>
                </select>
            </div>
            <div class="mb-8">
                <label class="block text-lg font-medium mb-2">è«‹é¸æ“‡å§“åï¼š</label>
                <select id="name-select" class="w-full p-3 border border-blue-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-md" disabled>
                    <option value="" disabled selected>è«‹å…ˆé¸æ“‡å¹´ç´š</option>
                </select>
            </div>
            <button id="start-btn" class="btn-primary font-bold py-3 px-6 rounded-lg text-lg transition-all">
                é–‹å§‹ç´€éŒ„
            </button>

            <div class="mt-8">
                <img src="images/twodogs.png" alt="å…©éš»å¯æ„›çš„ç‹—ç‹—" class="mx-auto rounded-lg w-40">
            </div>
        </div>

        <div id="emotion-page" class="hidden">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-blue-800">ä»Šæ—¥æƒ…ç·’ç´€éŒ„</h1>
                <div><span id="current-date" class="text-lg font-medium"></span></div>
            </div>
            <div class="mb-4">
                <p class="text-lg"><span id="display-grade" class="font-medium"></span> - <span id="display-name" class="font-medium"></span></p>
            </div>
            
            
            <div class="mb-6">
                <div class="flex justify-center items-center">
                    <p id="main-instruction" class="text-lg font-medium mb-3 text-center">è«‹é»é¸ä½ ä»Šå¤©çš„å¿ƒæƒ…</p>
                    <button id="read-aloud-btn" class="speech-btn" title="æœ—è®€èªªæ˜">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.a75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                    </button>
                </div>
                <div class="quadrant-layout-wrapper">
                    <span class="axis-label y-axis-top">é«˜èƒ½é‡</span>
                    <div class="center-content">
                        <span class="axis-label x-axis-left">ä¸å¥½çš„æ„Ÿå—</span>
                        <div id="emotion-quadrant-container">
                            <div class="quadrant q2">
                                <div class="emotion-btn bg-red-100" data-emotion="ç”Ÿæ°£"><div class="emoji">ğŸ˜ </div><div class="text">ç”Ÿæ°£</div></div>
                                <div class="emotion-btn bg-gray-800 text-white" data-emotion="å®³æ€•"><div class="emoji">ğŸ˜±</div><div class="text">å®³æ€•</div></div>
                                <div class="emotion-btn bg-amber-800 text-white" data-emotion="ç…©"><div class="emoji">ğŸ˜©</div><div class="text">ç…©</div></div>
                                <div class="emotion-btn bg-purple-100" data-emotion="ç·Šå¼µ"><div class="emoji">ğŸ˜°</div><div class="text">ç·Šå¼µ</div></div>
                                <div class="emotion-btn bg-yellow-800 text-white" data-emotion="å«‰å¦’"><div class="emoji">ğŸ˜’</div><div class="text">å«‰å¦’</div></div>
                            </div>
                            <div class="quadrant q1">
                                <div class="emotion-btn bg-orange-100" data-emotion="èˆˆå¥®"><div class="emoji">ğŸ¤©</div><div class="text">èˆˆå¥®</div></div>
                                <div class="emotion-btn bg-yellow-100" data-emotion="é–‹å¿ƒ"><div class="emoji">ğŸ˜„</div><div class="text">é–‹å¿ƒ</div></div>
                                <div class="emotion-btn bg-teal-100" data-emotion="æœŸå¾…"><div class="emoji">âœ¨</div><div class="text">æœŸå¾…</div></div>
                                <div class="emotion-btn bg-sky-100" data-emotion="è‡ªä¿¡"><div class="emoji">ğŸ’ª</div><div class="text">è‡ªä¿¡</div></div>
                                <div class="emotion-btn bg-cyan-100" data-emotion="é©šè¨"><div class="emoji">ğŸ˜®</div><div class="text">é©šè¨</div></div>
                            </div>
                            <div class="quadrant q3">
                                <div class="emotion-btn bg-blue-100" data-emotion="é›£é"><div class="emoji">ğŸ˜¢</div><div class="text">é›£é</div></div>
                                <div class="emotion-btn bg-indigo-100" data-emotion="å¤±æœ›"><div class="emoji">ğŸ˜</div><div class="text">å¤±æœ›</div></div>
                                <div class="emotion-btn bg-gray-100" data-emotion="å¿ƒç´¯"><div class="emoji">ğŸ˜®â€ğŸ’¨</div><div class="text">å¿ƒç´¯</div></div>
                                <div class="emotion-btn bg-pink-100" data-emotion="å°·å°¬"><div class="emoji">ğŸ˜³</div><div class="text">å°·å°¬</div></div>
                                <div class="emotion-btn bg-slate-200" data-emotion="æ²’è‡ªä¿¡"><div class="emoji">ğŸ˜¥</div><div class="text">æ²’è‡ªä¿¡</div></div>
                            </div>
                            <div class="quadrant q4">
                                <div class="emotion-btn bg-lime-100" data-emotion="æ”¾é¬†"><div class="emoji">ğŸ˜Œ</div><div class="text">æ”¾é¬†</div></div>
                                <div class="emotion-btn bg-green-100" data-emotion="æ»¿è¶³"><div class="emoji">ğŸ˜Š</div><div class="text">æ»¿è¶³</div></div>
                            </div>
                        </div>
                        <span class="axis-label x-axis-right">å¥½çš„æ„Ÿå—</span>
                    </div>
                    <span class="axis-label y-axis-bottom">ä½èƒ½é‡</span>
                </div>
            </div>
            
            <div id="reason-section" class="mb-8 hidden">
                <label for="reason-input" class="block text-lg font-medium mb-3">è«‹èªªæ˜ä½ ä»Šå¤©æœ‰é€™å€‹å¿ƒæƒ…çš„åŸå› ï¼š</label>
                <div class="relative">
                    <textarea id="reason-input" class="w-full p-3 border border-blue-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-md" rows="4" placeholder="è«‹åœ¨é€™è£¡è¼¸å…¥åŸå› ..."></textarea>
                    <button id="mic-btn" class="speech-btn absolute bottom-2 right-2 bg-gray-200 rounded-full p-2" title="èªéŸ³è¼¸å…¥">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 016 0v8.25a3 3 0 01-3 3z" /></svg>
                    </button>
                </div>
                 <p id="mic-status" class="text-sm text-center mt-1 hidden"></p>
            </div>
            
            <div class="flex justify-between">
                <button id="back-btn" class="btn-secondary font-bold py-2 px-4 rounded-lg">è¿”å›</button>
                <button id="submit-btn" class="btn-disabled font-bold py-2 px-4 rounded-lg hidden" disabled>æäº¤</button>
            </div>
        </div>

        <div id="result-page" class="hidden">
            <div class="success-message">âœ… å·²æˆåŠŸè¨˜éŒ„ï¼</div>
             <h1 class="text-2xl font-bold mb-6 text-blue-800 text-center">ç´€éŒ„å®Œæˆ</h1>
            <div class="flex justify-center gap-6 mt-6">
                <button id="next-person-btn" class="btn-secondary font-bold py-2 px-4 rounded-lg">æ›ä¸‹ä¸€å€‹äºº</button>
                <button id="go-to-start-btn" onclick="location.href='start.html'" class="btn-primary font-bold py-2 px-4 rounded-lg">å›å­¸ç¿’ç³»çµ±</button>
            </div>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <div id="emotion-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="modal-close-btn" class="modal-close-btn">&times;</button>
            <h2 id="modal-title" class="modal-title"></h2>
            <div>
                <div class="flex justify-between items-center mt-4">
                    <h3 class="modal-section-title">ç°¡å–®èªªæ˜</h3>
                    <button id="modal-read-desc-btn" class="speech-btn" title="æœ—è®€èªªæ˜">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                    </button>
                </div>
                <p id="modal-description" class="modal-text"></p>
                
                <div class="flex justify-between items-center mt-6">
                    <h3 class="modal-section-title">ç”Ÿæ´»èˆ‰ä¾‹</h3>
                    <button id="modal-read-ex-btn" class="speech-btn" title="æœ—è®€èˆ‰ä¾‹">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                    </button>
                </div>
                <p id="modal-examples" class="modal-text"></p>
            </div>
            <div class="text-center mt-8">
                <button id="modal-confirm-btn" class="btn-primary font-bold py-2 px-6 rounded-lg text-lg">å°±æ˜¯é€™å€‹å¿ƒæƒ…</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentDate = new Date().toLocaleDateString('zh-TW');
            document.getElementById('current-date').textContent = currentDate;
            let selectedEmotion = null;
            let currentEmotionTarget = null;

            // é é¢å…ƒç´ 
            const homePage = document.getElementById('home-page');
            const emotionPage = document.getElementById('emotion-page');
            const resultPage = document.getElementById('result-page');
            const gradeSelect = document.getElementById('grade-select');
            const nameSelect = document.getElementById('name-select');
            const displayGrade = document.getElementById('display-grade');
            const displayName = document.getElementById('display-name');
            const reasonSection = document.getElementById('reason-section');
            const reasonInput = document.getElementById('reason-input');
            const submitBtn = document.getElementById('submit-btn');
            const toast = document.getElementById('toast');
            const emotionBtns = document.querySelectorAll('.emotion-btn');

            // Modal å…ƒç´ 
            const emotionModal = document.getElementById('emotion-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const modalExamples = document.getElementById('modal-examples');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            const modalConfirmBtn = document.getElementById('modal-confirm-btn');
            
            // èªéŸ³åŠŸèƒ½ç›¸é—œå…ƒç´ 
            const readAloudBtn = document.getElementById('read-aloud-btn');
            const mainInstruction = document.getElementById('main-instruction');
            const micBtn = document.getElementById('mic-btn');
            const micStatus = document.getElementById('mic-status');
            const modalReadDescBtn = document.getElementById('modal-read-desc-btn');
            const modalReadExBtn = document.getElementById('modal-read-ex-btn');

            const emotionDetails = {
                'èˆˆå¥®': { desc: 'å¿ƒè£¡å……æ»¿æœŸå¾…ï¼Œèº«é«”å¥½åƒä¹Ÿå……æ»¿äº†é›»åŠ›ï¼Œè®“ä½ å¹¾ä¹<u>ç­‰ä¸åŠ</u>è¦è¿æ¥æŸä»¶é–‹å¿ƒçš„äº‹ï¼', ex: 'ç•¶ä½ æƒ³åˆ°æ˜å¤©å°±è¦å»æœŸå¾…å·²ä¹…çš„æ—…è¡Œã€ç•¶ä½ å–œæ­¡çš„å¶åƒå³å°‡ç²å‹ã€ç•¶ä½ æ­£è¦æ‹†é–‹ä¸€ä»½å¾ˆæƒ³è¦çš„ç¦®ç‰©ã€‚' },
                'é–‹å¿ƒ': { desc: 'ä¸€ç¨®å…§å¿ƒæ„Ÿåˆ°<u>æ„‰å¿«ã€é †åˆ©</u>çš„èˆ’æœæ„Ÿè¦ºï¼Œæœƒè®“ä½ å¿ä¸ä½æƒ³å¾®ç¬‘ã€‚', ex: 'ç•¶ä½ å’Œå¥½æœ‹å‹èšåœ¨ä¸€èµ·èŠå¤©å¤§ç¬‘ã€ç•¶ä½ çš„åŠªåŠ›è¢«çœ‹è¦‹ä¸¦ç¨±è®šã€ç•¶ä½ å®Œæˆä¸€ä»¶å›°é›£çš„äº‹ã€‚' },
                'æœŸå¾…': { desc: 'åœ¨å¿ƒè£¡<u>ç›¼æœ›è‘—</u>æŸä»¶å¥½äº‹ç™¼ç”Ÿï¼Œé›–ç„¶æ¯”ã€Œèˆˆå¥®ã€å¹³éœä¸€é»ï¼Œä½†å……æ»¿äº†å¸Œæœ›çš„æ„Ÿè¦ºã€‚', ex: 'ç•¶ä½ æœŸå¾…æ”¾å­¸å¾Œè¦çœ‹çš„æœ€æ–°ä¸€é›†å‹•æ¼«ã€ç•¶ä½ å’Œæœ‹å‹ç´„å¥½é€±æœ«è¦è¦‹é¢ã€ç•¶ä½ å¸Œæœ›è¨‚çš„åŒ…è£¹è¶•å¿«é€åˆ°ã€‚' },
                'è‡ªä¿¡': { desc: '<u>ç›¸ä¿¡è‡ªå·±æœ‰èƒ½åŠ›</u>åšåˆ°æŸä»¶äº‹ï¼Œè¦ºå¾—è‡ªå·±æ˜¯å¯é çš„ã€æœ‰åƒ¹å€¼çš„ã€‚', ex: 'ç•¶ä½ ç‚ºå ±å‘Šæº–å‚™äº†å¾ˆä¹…ï¼Œç›¸ä¿¡è‡ªå·±èƒ½è¡¨ç¾å¾—å¾ˆå¥½ã€ç•¶ä½ ç†Ÿç·´äº†ä¸€å€‹æ–°æŠ€èƒ½ä¸¦æº–å‚™å¥½å±•ç¤ºå®ƒã€ç•¶ä½ å‹‡æ•¢åœ°èˆ‰æ‰‹ç™¼è¨€ã€‚' },
                'é©šè¨': { desc: 'ç™¼ç”Ÿäº†<u>å‡ºä¹ä½ æ„æ–™ä¹‹å¤–</u>çš„äº‹ï¼Œå¯èƒ½æ˜¯ä¸€å€‹é–‹å¿ƒçš„é©šå–œï¼Œä¹Ÿå¯èƒ½åªæ˜¯ä¸€å€‹å°å°çš„åš‡ä¸€è·³ã€‚', ex: 'ç•¶æœ‹å‹å€‘ç‚ºä½ æº–å‚™äº†ç”Ÿæ—¥é©šå–œã€ç•¶è€ƒè©¦å…§å®¹è·Ÿä½ æƒ³çš„å®Œå…¨ä¸ä¸€æ¨£ã€ç•¶çœ‹åˆ°ä¸€å€‹æ„æƒ³ä¸åˆ°çš„åŠ‡æƒ…åè½‰ã€‚' },
                'ç”Ÿæ°£': { desc: 'ç•¶ä½ è¦ºå¾—äº‹æƒ…<u>ä¸å…¬å¹³</u>ã€è‡ªå·±çš„<u>ç•Œç·šè¢«ä¾µçŠ¯</u>ï¼Œæˆ–ç›®æ¨™è¢«é˜»ç¤™æ™‚ï¼Œå…§å¿ƒæœƒç”¢ç”Ÿä¸€è‚¡å¼·çƒˆçš„èƒ½é‡ã€‚', ex: 'ç•¶åˆ¥äººæ²’æœ‰ç¶“éåŒæ„å°±æ‹¿èµ°ä½ çš„æ±è¥¿ã€ç•¶ä½ è¢«èª¤æœƒäº†å»æ²’æœ‰æ©Ÿæœƒå¥½å¥½è§£é‡‹ã€ç•¶ä½ æƒ³åšå¥½çš„äº‹å»ä¸€å†è¢«æ‰“æ–·ã€‚' },
                'å®³æ€•': { desc: 'æ„Ÿè¦ºåˆ°å¯èƒ½æœ‰<u>å±éšªæˆ–å¨è„…</u>ï¼Œèº«é«”æœƒè®Šå¾—è­¦è¦ºï¼Œå¿ƒè·³åŠ é€Ÿï¼Œæƒ³è¦é€ƒè·‘æˆ–èº²èµ·ä¾†ã€‚', ex: 'ç•¶ä½ æ™šä¸Šä¸€å€‹äººèµ°åœ¨æš—å··è£¡ã€ç•¶ä½ è¦ºå¾—è‡ªå·±å¥½åƒé—–ç¦äº†è¦è¢«è²¬ç½µã€ç•¶ä½ åœ¨çœ‹ææ€–ç‰‡è¢«åš‡åˆ°ã€‚' },
                'ç…©': { desc: 'ä¸€ç¨®ä¸å¤ªå¼·çƒˆä½†æŒçºŒçš„ç”Ÿæ°£ï¼Œè®“ä½ è¦ºå¾—<u>ä¸è€ç…©ã€éœä¸ä¸‹å¿ƒ</u>ï¼Œå¾ˆæƒ³æ“ºè„«ç›®å‰çš„ç‹€æ³ã€‚', ex: 'ç•¶å¤©æ°£åˆæ¿•åˆç†±è®“ä½ æ¸¾èº«ä¸èˆ’æœã€ç•¶ä½ æœ‰å¾ˆå¤šäº‹è¦åšå»ä¸çŸ¥å¾ä½•é–‹å§‹ã€ç•¶æ—é‚Šçš„äººä¸€ç›´ç™¼å‡ºå™ªéŸ³ã€‚' },
                'ç·Šå¼µ': { desc: 'å°æ–¼å³å°‡ç™¼ç”Ÿçš„äº‹æ„Ÿåˆ°<u>æ“”å¿ƒå’Œä¸å®‰</u>ï¼Œå¯èƒ½æœƒæ‰‹å¿ƒå†’æ±—ã€è‚šå­æ€ªæ€ªçš„ã€‚', ex: 'ç•¶ä½ é¦¬ä¸Šå°±è¦ä¸Šå°å ±å‘Šæˆ–è¡¨æ¼”ã€ç•¶é‡è¦çš„è€ƒè©¦ç™¼ä¸‹è€ƒå·çš„é‚£ä¸€åˆ»ã€ç•¶ä½ é¼“èµ·å‹‡æ°£è¦å’ŒæŸäººèªªè©±ã€‚' },
                'å«‰å¦’': { desc: 'ç•¶çœ‹åˆ°åˆ¥äººæ“æœ‰ä½ æƒ³è¦çš„æ±è¥¿ã€æ‰è¯æˆ–äººéš›é—œä¿‚æ™‚ï¼Œå¿ƒè£¡ç”¢ç”Ÿçš„ä¸€ç¨®<u>é…¸é…¸çš„ã€ä¸èˆ’æœ</u>çš„æ„Ÿè¦ºã€‚', ex: 'ç•¶ä½ çš„å¥½æœ‹å‹å¥½åƒè·Ÿåˆ¥äººæ›´è¦å¥½ã€ç•¶åˆ¥äººæ“æœ‰ä½ å¤¢å¯ä»¥æ±‚çš„æœ€æ–°æ¬¾æ‰‹æ©Ÿã€ç•¶åŒå­¸åœ¨æŸæ–¹é¢è¡¨ç¾å¾—ç‰¹åˆ¥å‡ºè‰²ã€‚' },
                'é›£é': { desc: 'å› ç‚º<u>å¤±å»ã€åˆ†é›¢æˆ–å—å‚·</u>è€Œæ„Ÿåˆ°å¿ƒæƒ…ä½è½ï¼Œèº«é«”æ²‰é‡ï¼Œå¯èƒ½æœƒæƒ³å“­ã€‚', ex: 'ç•¶ä½ å’Œè¦ªè¿‘çš„äººæˆ–å¿ƒæ„›çš„å¯µç‰©åˆ†é–‹ã€ç•¶ä½ å’Œæœ€å¥½çš„æœ‹å‹å¤§åµä¸€æ¶ã€ç•¶ä½ è¦ºå¾—æ²’æœ‰äººç†è§£ä½ ã€‚' },
                'å¤±æœ›': { desc: 'ç•¶ä½ æ‰€æœŸå¾…æˆ–ç›¼æœ›çš„äº‹æƒ…æ²’æœ‰ç™¼ç”Ÿï¼Œé‚£ç¨®<u>å¸Œæœ›è½ç©º</u>çš„æ„Ÿè¦ºã€‚', ex: 'ç•¶æœŸå¾…å·²ä¹…çš„æ´»å‹•å› ç‚ºä¸‹é›¨è€Œå–æ¶ˆã€ç•¶æœ‹å‹å¿˜è¨˜äº†å’Œä½ çš„ç´„å®šã€ç•¶è€ƒè©¦æˆç¸¾æ¯”ä½ é æœŸçš„è¦å·®å¾ˆå¤šã€‚' },
                'å¿ƒç´¯': { desc: 'ä¸æ˜¯èº«é«”ä¸Šçš„ç–²å€¦ï¼Œè€Œæ˜¯<u>ç²¾ç¥å’Œæƒ…ç·’ä¸Šçš„æ¶ˆè€—</u>ï¼Œè¦ºå¾—æ²’æœ‰åŠ›æ°£å†å»æ‡‰ä»˜ä»»ä½•äº‹ã€‚', ex: 'ç•¶ä½ æ‡‰ä»˜äº†ä¸€æ•´å¤©è¤‡é›œçš„äººéš›é—œä¿‚å¾Œã€ç•¶ä½ ç‚ºäº†ä¸è®“åˆ¥äººæ“”å¿ƒä¸€ç›´å‡è£è‡ªå·±æ²’äº‹ã€ç•¶æœ‰å¤ªå¤šçš„ç…©æƒ±å£“åœ¨ä½ å¿ƒä¸Šã€‚' },
                'å°·å°¬': { desc: 'ç•¶çœ¾åšäº†ä¸€äº›ä½ è¦ºå¾—<u>å¾ˆç³—ã€å¾ˆç¬¨æ‹™</u>çš„äº‹ï¼Œè®“ä½ è‡‰ä¸Šç™¼ç†±ï¼Œæ¨ä¸å¾—æ‰¾å€‹åœ°æ´é‘½é€²å»ã€‚', ex: 'ç•¶ä½ åœ¨èµ°å»Šä¸Šä¸å°å¿ƒæ»‘å€’ã€ç•¶ä½ åœ¨å®‰éœçš„æ•™å®¤è£¡è‚šå­çªç„¶å«äº†ä¸€è²ã€ç•¶ä½ ä¸å°å¿ƒæŠŠè€å¸«å«æˆã€Œåª½åª½ã€ã€‚' },
                'æ²’è‡ªä¿¡': { desc: 'ä¸€ç¨®<u>æ‡·ç–‘è‡ªå·±</u>ã€è¦ºå¾—è‡ªå·±<u>ä¸å¤ å¥½</u>æˆ–èƒ½åŠ›ä¸è¶³çš„æ„Ÿè¦ºã€‚ç•¶æœ‰é€™ç¨®æ„Ÿè¦ºæ™‚ï¼Œä½ å¯èƒ½æœƒå®³æ€•å˜—è©¦ï¼Œæˆ–æ˜¯ä¸æ•¢è¡¨é”è‡ªå·±çš„çœŸå¯¦æƒ³æ³•ã€‚', ex: 'ä¸Šèª²æ™‚æ˜æ˜çŸ¥é“ç­”æ¡ˆï¼Œå»å› ç‚ºå®³æ€•èªªéŒ¯è€Œä¸æ•¢èˆ‰æ‰‹ã€åœ¨åˆ†çµ„æ´»å‹•æ™‚ï¼Œç¸½è¦ºå¾—è‡ªå·±çš„æ„è¦‹ä¸é‡è¦ã€çœ‹åˆ°åˆ¥äººå¾ˆè¼•é¬†åšåˆ°æŸä»¶äº‹ï¼Œå¿ƒè£¡æƒ³è‘—ã€Œæˆ‘ä¸€å®šè¾¦ä¸åˆ°ã€ã€‚' },
                'æ”¾é¬†': { desc: '<u>æ²’æœ‰ä»»ä½•å£“åŠ›</u>å’Œç…©æƒ±ï¼Œèº«å¿ƒéƒ½è™•æ–¼éå¸¸å¹³éœã€èˆ’å±•çš„ç‹€æ…‹ã€‚', ex: 'ç•¶ä½ åšå®Œæ‰€æœ‰åŠŸèª²èººåœ¨åºŠä¸Šè½éŸ³æ¨‚ã€ç•¶ä½ æ²‰æµ¸åœ¨è‡ªå·±çš„èˆˆè¶£ä¸­ï¼ˆä¾‹å¦‚ç•«ç•«æˆ–é–±è®€ï¼‰ã€ç•¶ä½ æ³¡åœ¨æº«æš–çš„æµ´ç¼¸è£¡ã€‚' },
                'æ»¿è¶³': { desc: 'ä¸€ç¨®å…§å¿ƒæ„Ÿåˆ°<u>å……å¯¦ã€æº«æš–</u>çš„å¹³éœå–œæ‚…ï¼Œè¦ºå¾—ã€Œé€™æ¨£å°±å¤ äº†ã€ã€ã€Œå¾ˆç¾å¥½ã€ã€‚', ex: 'ç•¶ä½ åƒåˆ°ä¸€é “éå¸¸å¥½åƒçš„æ™šé¤ã€ç•¶ä½ å®Œæˆä¸€ä»¶ä½œå“ä¸¦å°å®ƒæ„Ÿåˆ°å¾ˆæ»¿æ„ã€ç•¶ä½ å’Œå®¶äººæˆ–æœ‹å‹åº¦éäº†ä¸€æ®µæº«é¦¨çš„æ™‚å…‰ã€‚' }
            };

            const studentsByGrade = {
                'ä¸ƒå¹´ç´š': ['å³æ©æ—»', 'æ—å­é¾', 'æ¥Šè‚²ç¿”', 'é™³å‡±è‰', 'é™³ç‡•éˆ´'],
                'å…«å¹´ç´š': ['è˜‡ç¥æ…¶', 'é»ƒé›…ç’‡', 'é»ƒå¯¬ç›Š', 'å¾æ–‡å½¥', 'è˜‡ä½³ç¦'],
                'ä¹å¹´ç´š': ['é„­è© æ–‡', 'å“å† ä½‘', 'é¦¬è‹¥åº­', 'å³äº®å‹³']
            };

            gradeSelect.addEventListener('change', function() {
                const selectedGrade = this.value;
                nameSelect.innerHTML = '<option value="" disabled selected>è«‹é¸æ“‡å§“å</option>';
                if (selectedGrade && studentsByGrade[selectedGrade]) {
                    nameSelect.disabled = false;
                    studentsByGrade[selectedGrade].forEach(name => {
                        const option = document.createElement('option');
                        option.value = name;
                        option.textContent = name;
                        nameSelect.appendChild(option);
                    });
                } else {
                    nameSelect.innerHTML = '<option value="" disabled selected>è«‹å…ˆé¸æ“‡å¹´ç´š</option>';
                    nameSelect.disabled = true;
                }
            });

            function showToast(message) {
                toast.textContent = message;
                toast.classList.add('show');
                setTimeout(() => { toast.classList.remove('show'); }, 3000);
            }

            document.getElementById('start-btn').addEventListener('click', function() {
                const grade = gradeSelect.value;
                const name = nameSelect.value;
                if (!grade || !name) { alert('è«‹é¸æ“‡å¹´ç´šå’Œå§“å'); return; }
                displayGrade.textContent = grade;
                displayName.textContent = name;
                homePage.classList.add('hidden');
                emotionPage.classList.remove('hidden');
            });

            document.getElementById('back-btn').addEventListener('click', function() {
                emotionPage.classList.add('hidden');
                homePage.classList.remove('hidden');
                resetEmotionSelection();
            });
            
            // èªéŸ³æœ—è®€ (TTS) é‚è¼¯
            function speak(text) {
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'zh-TW';
                    utterance.rate = 1.1;
                    window.speechSynthesis.cancel();
                    window.speechSynthesis.speak(utterance);
                } else {
                    alert('æŠ±æ­‰ï¼Œæ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³æœ—è®€åŠŸèƒ½ã€‚');
                }
            }

            readAloudBtn.addEventListener('click', () => {
                speak(mainInstruction.textContent);
            });
            
            modalReadDescBtn.addEventListener('click', () => {
                speak(modalDescription.textContent);
            });

            modalReadExBtn.addEventListener('click', () => {
                speak(modalExamples.textContent);
            });
            
            // èªéŸ³è¼¸å…¥ (Speech-to-Text) é‚è¼¯
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            let recognition;

            if (SpeechRecognition) {
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.lang = 'cmn-Hant-TW';
                recognition.interimResults = false;

                micBtn.addEventListener('click', () => {
                    recognition.start();
                });

                recognition.onstart = () => {
                    micBtn.classList.add('is-recording');
                    micStatus.textContent = 'æ­£åœ¨è†è½...';
                    micStatus.classList.remove('hidden');
                };

                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    reasonInput.value += transcript;
                    updateSubmitButtonState();
                };

                recognition.onerror = (event) => {
                    micStatus.textContent = `èªéŸ³è¾¨è­˜éŒ¯èª¤: ${event.error}`;
                };

                recognition.onend = () => {
                    micBtn.classList.remove('is-recording');
                    setTimeout(() => micStatus.classList.add('hidden'), 2000);
                };
            } else {
                micBtn.style.display = 'none';
                console.log('ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³è¾¨è­˜åŠŸèƒ½ã€‚');
            }

            function openModal(emotionName, targetButton) {
                const details = emotionDetails[emotionName];
                if (!details) return;

                modalTitle.textContent = emotionName;
                modalDescription.innerHTML = details.desc; // ä½¿ç”¨ innerHTML è®“ <u> ç”Ÿæ•ˆ
                modalExamples.innerHTML = details.ex;     // ä½¿ç”¨ innerHTML è®“ <u> ç”Ÿæ•ˆ
                currentEmotionTarget = targetButton;

                emotionModal.classList.remove('hidden');
                setTimeout(() => emotionModal.classList.add('show'), 10);
            }

            function closeModal() {
                window.speechSynthesis.cancel();
                emotionModal.classList.remove('show');
                setTimeout(() => emotionModal.classList.add('hidden'), 300);
            }

            emotionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const emotionName = this.getAttribute('data-emotion');
                    openModal(emotionName, this);
                });
            });

            modalConfirmBtn.addEventListener('click', function() {
                if (!currentEmotionTarget) return;
                emotionBtns.forEach(b => b.classList.remove('selected'));
                currentEmotionTarget.classList.add('selected');
                selectedEmotion = currentEmotionTarget.getAttribute('data-emotion');
                reasonSection.classList.remove('hidden');
                submitBtn.classList.remove('hidden');
                updateSubmitButtonState();
                closeModal();
            });

            modalCloseBtn.addEventListener('click', closeModal);
            emotionModal.addEventListener('click', function(event) {
                if (event.target === emotionModal) closeModal();
            });

            reasonInput.addEventListener('input', updateSubmitButtonState);

            function updateSubmitButtonState() {
                const hasEmotion = selectedEmotion !== null;
                const hasReason = reasonInput.value.trim() !== '';
                if (hasEmotion && hasReason) {
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('btn-disabled');
                    submitBtn.classList.add('btn-primary');
                } else {
                    submitBtn.disabled = true;
                    submitBtn.classList.add('btn-disabled');
                    submitBtn.classList.remove('btn-primary');
                }
            }

            submitBtn.addEventListener('click', function() {
                if (this.disabled) return;
                this.disabled = true;
                this.textContent = "é€å‡ºä¸­...";
                this.classList.add("btn-disabled");
                this.classList.remove("btn-primary");

                const grade = displayGrade.textContent;
                const name = displayName.textContent;
                const reasonsText = reasonInput.value.trim();

                fetch('https://google-sheet-proxy.onrender.com/submit', {
                    method: 'POST',
                    body: JSON.stringify({
                        date: currentDate, grade: grade, name: name,
                        emotion: selectedEmotion, reasons: reasonsText
                    }),
                    headers: { 'Content-Type': 'application/json' }
                })
                .then(response => {
                    if (!response.ok) throw new Error('ç¶²è·¯éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦');
                    return response.text();
                })
                .then(result => {
                    showToast('âœ… è³‡æ–™å·²æˆåŠŸæäº¤ï¼');
                    emotionPage.classList.add('hidden');
                    resultPage.classList.remove('hidden');
                    resetEmotionSelection();
                })
                .catch(error => {
                    alert('æäº¤å¤±æ•—ï¼š' + error.message);
                    this.disabled = false;
                    this.textContent = "æäº¤";
                    updateSubmitButtonState();
                });
            });

            document.getElementById('next-person-btn').addEventListener('click', function() {
                resultPage.classList.add('hidden');
                homePage.classList.remove('hidden');
                gradeSelect.value = '';
                nameSelect.innerHTML = '<option value="" disabled selected>è«‹å…ˆé¸æ“‡å¹´ç´š</option>';
                nameSelect.disabled = true;
            });

            function resetEmotionSelection() {
                emotionBtns.forEach(btn => btn.classList.remove('selected'));
                selectedEmotion = null;
                currentEmotionTarget = null;
                reasonSection.classList.add('hidden');
                submitBtn.classList.add('hidden');
                reasonInput.value = '';
                closeModal();
                updateSubmitButtonState();
            }
        });
    </script>

        <script src="main.js"></script>
</body>
</html>