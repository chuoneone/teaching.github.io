<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1U1ç¿’ä½œC</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter for English, Noto Sans TC for Chinese -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* è‡ªå®šç¾©æ¨£å¼ */
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }

        /* äº’å‹•å–®å­—æ¨£å¼ */
        .word {
            position: relative;
            cursor: pointer;
            border-bottom: 1px dotted #6b7280; /* gray-500 */
            transition: color 0.2s;
        }

        .word:hover {
            color: #2563eb; /* blue-600 */
        }

        /* ä¸­æ–‡ç¿»è­¯æç¤ºæ¡† (Tooltip) */
        .word .tooltip {
            visibility: hidden;
            width: max-content;
            background-color: #1f2937; /* gray-800 */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 10;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none; /* é¿å…æç¤ºæ¡†å¹²æ“¾æ»‘é¼ äº‹ä»¶ */
        }

        .word:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- æ¸¬é©—ä¸»å®¹å™¨ -->
    <div id="quiz-container" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg w-full max-w-3xl">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 text-center mb-6">B1U1ç¿’ä½œC</h1>
        
        <!-- é¡Œç›®å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆæ–¼æ­¤ -->
        <div id="questions-wrapper"></div>

        <!-- åŠŸèƒ½æŒ‰éˆ•èˆ‡åˆ†æ•¸é¡¯ç¤ºå€ -->
        <div class="mt-8 text-center">
            <button id="check-btn" class="w-full sm:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:bg-gray-400 disabled:cursor-not-allowed">
                æª¢æŸ¥ç­”æ¡ˆ
            </button>
            <div id="score-display" class="mt-6 text-2xl font-bold text-gray-800 hidden"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- è³‡æ–™å®šç¾©å€ ---

            // å–®å­—ç¿»è­¯å­—å…¸
            const translations = {
                "what's": "ä»€éº¼æ˜¯", "what": "ä»€éº¼", "the": "é€™å€‹", "today": "ä»Šå¤©", "it's": "å®ƒæ˜¯", "may": "äº”æœˆ",
                "time": "æ™‚é–“", "day": "å¤©", "month": "æœˆä»½", "date": "æ—¥æœŸ", "when": "ä½•æ™‚", "is": "æ˜¯", "her": "å¥¹çš„",
                "school": "å­¸æ ¡", "november": "åä¸€æœˆ", "on": "åœ¨", "in": "åœ¨...è£¡é¢", "your": "ä½ çš„", "birthday": "ç”Ÿæ—¥",
                "oh": "å“¦", "also": "ä¹Ÿ", "new": "æ–°çš„", "year's": "å¹´çš„", "at": "åœ¨", "nine": "ä¹", "thirty": "ä¸‰å",
                "january": "ä¸€æœˆ", "first": "ç¬¬ä¸€", "december": "åäºŒæœˆ", "this": "é€™å€‹", "boy": "ç”·å­©", "has": "æœ‰",
                "beautiful": "ç¾éº—çš„", "eyes": "çœ¼ç›", "and": "å’Œ", "long": "é•·çš„", "hair": "é ­é«®", "i": "æˆ‘",
                "like": "å–œæ­¡", "him": "ä»–(å—æ ¼)", "very": "éå¸¸", "much": "å¾ˆå¤š", "he": "ä»–(ä¸»æ ¼)", "his": "ä»–çš„", "he's": "ä»–æ˜¯",
                "hi": "å—¨", "i'm": "æˆ‘æ˜¯", "nice": "é«˜èˆˆçš„", "to": "å»", "meet": "é‡è¦‹", "you": "ä½ ", "too": "ä¹Ÿ", "see": "çœ‹åˆ°",
                "you're": "ä½ æ˜¯", "welcome": "ä¸å®¢æ°£", "excuse": "è«‹å•", "me": "æˆ‘", "are": "æ˜¯", "mr.": "å…ˆç”Ÿ", "walker": "æ²ƒå…‹",
                "yes": "æ˜¯çš„", "larry": "è³´ç‘", "no": "ä¸æ˜¯", "not": "ä¸", "friend": "æœ‹å‹", "who's": "èª°æ˜¯", "that": "é‚£å€‹",
                "girl": "å¥³å­©", "she": "å¥¹", "really": "çœŸçš„", "tall": "é«˜çš„", "a": "ä¸€å€‹", "happy": "å¿«æ¨‚çš„", "she's": "å¥¹æ˜¯",
                "ariel": "æ„›éº—å…’", "our": "æˆ‘å€‘çš„", "classmate": "åŒå­¸", "eric's": "è‰¾ç‘å…‹çš„", "aunt": "é˜¿å§¨", "writer": "ä½œå®¶",
                "doctor": "é†«ç”Ÿ", "housewife": "å®¶åº­ä¸»å©¦", "how": "å¦‚ä½•", "old": "å¹´è€çš„", "alice": "æ„›éº—çµ²", "brad": "å¸ƒèŠå¾·",
                "they": "ä»–å€‘", "my": "æˆ‘çš„", "family": "å®¶åº­", "ten": "å", "twelve": "åäºŒ", "cook": "å»šå¸«", "nurse": "è­·å£«"
            };

            // æ¸¬é©—é¡Œç›®è³‡æ–™
            const quizData = [
                {
                    question: "A: Hi, I'm Kelly Coleman. Nice to meet you. B: I'm Nigel Ford. __________",
                    options: ["I see.", "You're welcome.", "Nice to meet you, too."],
                    answer: "C",
                    hint: "ç•¶åˆ¥äººèªªã€Œå¾ˆé«˜èˆˆèªè­˜ä½ ã€ï¼Œç¦®è²Œçš„å›æ‡‰æ˜¯ã€Œæˆ‘ä¹Ÿå¾ˆé«˜èˆˆèªè­˜ä½ ã€ã€‚"
                },
                {
                    question: "A: Excuse me. Are you Mr. Walker? B: __________",
                    options: ["Yes, he is.", "Yes, I'm Larry Walker.", "No, I'm not Mr. Walker's friend."],
                    answer: "B",
                    hint: "å•å¥æ˜¯ã€Œä½ æ˜¯...å—ï¼Ÿã€ï¼Œæ‰€ä»¥å›ç­”æ‡‰è©²ç”¨ç¬¬ä¸€äººç¨±ã€Œæˆ‘æ˜¯...ã€ä¾†å›ç­”ã€‚"
                },
                {
                    question: "A: Who's that girl? B: __________",
                    options: ["She is really tall.", "She is a happy girl.", "She's Ariel, our new classmate."],
                    answer: "C",
                    hint: "å•å¥æ˜¯ã€Œé‚£å€‹å¥³å­©æ˜¯èª°ï¼Ÿã€ï¼Œæ‰€ä»¥å›ç­”æ‡‰è©²è¦ä»‹ç´¹å¥¹çš„èº«åˆ†ã€‚"
                },
                {
                    question: "A: Is Eric's aunt a writer? B: __________",
                    options: ["Yes, and she's a doctor, too.", "No, she's not. She is a writer.", "Yes, she is. She is a housewife."],
                    answer: "A",
                    hint: "é¸é … B å’Œ C çš„å›ç­”å‰å¾ŒçŸ›ç›¾ï¼Œåªæœ‰é¸é … A åœ¨é‚è¼¯ä¸Šæ˜¯åˆç†çš„ã€‚"
                },
                {
                    question: "A: How old are Alice and Brad? B: __________",
                    options: ["They are my family.", "Alice is ten, and Brad is twelve.", "Alice is a cook, and Brad is a nurse."],
                    answer: "B",
                    hint: "å•å¥æ˜¯ã€Œä»–å€‘å¹¾æ­²äº†ï¼Ÿã€ï¼Œæ‰€ä»¥å›ç­”æ‡‰è©²è¦èªªæ˜ä»–å€‘çš„å¹´é½¡ã€‚"
                }
            ];

            // --- åŠŸèƒ½å‡½å¼å€ ---

            /**
             * å°‡æ–‡å­—è½‰æ›ç‚ºåŒ…å«äº’å‹•å¼å–®å­—çš„ HTML
             * @param {string} text - è¼¸å…¥çš„æ–‡å­—
             * @returns {string} - è½‰æ›å¾Œçš„ HTML å­—ä¸²
             */
            function createInteractiveText(text) {
                // ä½¿ç”¨æ­£å‰‡è¡¨é”å¼åˆ†å‰²æ–‡å­—ï¼Œä¿ç•™ç©ºæ ¼å’Œæ¨™é»ç¬¦è™Ÿ
                const parts = text.split(/([a-zA-Z'â€™]+)/);
                return parts.map(part => {
                    const cleanPart = part.toLowerCase().replace(/â€™/g, "'");
                    if (translations[cleanPart]) {
                        return `<span class="word">${part}<span class="tooltip">${translations[cleanPart]}</span></span>`;
                    }
                    return part;
                }).join('');
            }

            /**
             * ä½¿ç”¨ç€è¦½å™¨ API æœ—è®€æ–‡å­—
             * @param {string} text - è¦æœ—è®€çš„æ–‡å­—
             */
            function speak(text) {
                if ('speechSynthesis' in window) {
                    window.speechSynthesis.cancel(); // ä¸­æ–·å…ˆå‰çš„æœ—è®€
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'en-US'; // è¨­å®šç¾å¼å£éŸ³
                    utterance.rate = 0.9;
                    window.speechSynthesis.speak(utterance);
                } else {
                    console.error("æ­¤ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³åˆæˆåŠŸèƒ½ã€‚");
                }
            }
            
            /**
             * å»ºç«‹æ•´å€‹æ¸¬é©—çš„ HTML çµæ§‹
             */
            function buildQuiz() {
                const questionsWrapper = document.getElementById('questions-wrapper');
                quizData.forEach((q, index) => {
                    // å•é¡Œå€å¡Šå®¹å™¨
                    const questionBlock = document.createElement('div');
                    questionBlock.id = `q-${index}`;
                    questionBlock.className = 'mb-8 border-b border-gray-200 pb-8';

                    // é¡Œç›®æ–‡å­—
                    const questionText = document.createElement('p');
                    questionText.className = 'text-lg text-gray-700 mb-4';
                    questionText.innerHTML = `<strong>${index + 1}.</strong> ${createInteractiveText(q.question)}`;
                    
                    // é¸é …å€å¡Š
                    const optionsGrid = document.createElement('div');
                    optionsGrid.className = 'grid grid-cols-1 sm:grid-cols-2 gap-3';
                    
                    q.options.forEach((option, i) => {
                        const optionChar = String.fromCharCode(65 + i); // A, B, C, D
                        const optionContainer = document.createElement('div');
                        optionContainer.className = 'flex items-center p-3 border border-gray-300 rounded-lg transition-all';
                        
                        const radio = document.createElement('input');
                        radio.type = 'radio';
                        radio.id = `q${index}-opt${optionChar}`;
                        radio.name = `q${index}`;
                        radio.value = optionChar;
                        radio.className = 'h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300';

                        const label = document.createElement('label');
                        label.htmlFor = `q${index}-opt${optionChar}`;
                        label.className = 'ml-3 block text-md text-gray-900 flex-1 cursor-pointer';
                        label.innerHTML = `(${optionChar}) ${createInteractiveText(option)}`;

                        optionContainer.appendChild(radio);
                        optionContainer.appendChild(label);
                        optionsGrid.appendChild(optionContainer);
                    });

                    // æç¤ºæŒ‰éˆ•èˆ‡æç¤ºå…§å®¹
                    const hintContainer = document.createElement('div');
                    hintContainer.className = 'mt-4';

                    const hintButton = document.createElement('button');
                    hintButton.className = 'text-sm text-blue-600 hover:text-blue-800';
                    hintButton.textContent = 'ğŸ’¡ æç¤º';
                    
                    const hintText = document.createElement('p');
                    hintText.className = 'hint-content hidden mt-2 text-sm text-gray-600 bg-yellow-100 p-2 rounded-md';
                    hintText.textContent = q.hint;
                    
                    hintButton.onclick = () => hintText.classList.toggle('hidden');

                    hintContainer.appendChild(hintButton);
                    hintContainer.appendChild(hintText);
                    
                    questionBlock.appendChild(questionText);
                    questionBlock.appendChild(optionsGrid);
                    questionBlock.appendChild(hintContainer);
                    questionsWrapper.appendChild(questionBlock);
                });
            }

            /**
             * æª¢æŸ¥ç­”æ¡ˆã€è¨ˆåˆ†ä¸¦é¡¯ç¤ºçµæœ
             */
            function checkAnswers() {
                let score = 0;
                const totalQuestions = quizData.length;

                quizData.forEach((q, index) => {
                    const questionBlock = document.getElementById(`q-${index}`);
                    const selectedRadio = questionBlock.querySelector(`input[name="q${index}"]:checked`);
                    
                    // åœç”¨æ‰€æœ‰é¸é …
                    questionBlock.querySelectorAll('input[type="radio"]').forEach(radio => {
                        radio.disabled = true;
                    });

                    const correctOptionValue = q.answer; // e.g., 'D'
                    const correctOptionId = `q${index}-opt${correctOptionValue}`;
                    const correctLabel = document.querySelector(`label[for="${correctOptionId}"]`);

                    if (selectedRadio) {
                        const userLabel = selectedRadio.nextElementSibling;
                        if (selectedRadio.value === correctOptionValue) {
                            score++;
                            userLabel.parentElement.classList.add('bg-green-100', 'border-green-500', 'ring-2', 'ring-green-300');
                            userLabel.innerHTML += ' <span class="text-green-600 font-bold">âœ”ï¸</span>';
                        } else {
                            userLabel.parentElement.classList.add('bg-red-100', 'border-red-500', 'ring-2', 'ring-red-300');
                            userLabel.innerHTML += ' <span class="text-red-600 font-bold">âŒ</span>';
                            // æ¨™ç¤ºå‡ºæ­£ç¢ºç­”æ¡ˆ
                            correctLabel.parentElement.classList.add('bg-green-100', 'border-green-500');
                        }
                    } else {
                        // å¦‚æœä½¿ç”¨è€…æœªä½œç­”ï¼Œåªæ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                         correctLabel.parentElement.classList.add('bg-green-100', 'border-green-500');
                    }
                });

                // é¡¯ç¤ºåˆ†æ•¸
                const scoreDiv = document.getElementById('score-display');
                scoreDiv.textContent = `ä½ çš„åˆ†æ•¸: ${score} / ${totalQuestions}`;
                scoreDiv.classList.remove('hidden');

                // åœç”¨æª¢æŸ¥æŒ‰éˆ•
                const checkBtn = document.getElementById('check-btn');
                checkBtn.disabled = true;
            }

            // --- äº‹ä»¶ç›£è½å€ ---

            // é»æ“Šå–®å­—ç™¼éŸ³ï¼ˆäº‹ä»¶å§”æ´¾ï¼‰
            document.getElementById('questions-wrapper').addEventListener('click', (e) => {
                if (e.target.classList.contains('word')) {
                    speak(e.target.childNodes[0].nodeValue); // åªæœ—è®€æ–‡å­—ç¯€é»ï¼Œå¿½ç•¥ tooltip
                }
            });

            // é»æ“Šæª¢æŸ¥ç­”æ¡ˆæŒ‰éˆ•
            document.getElementById('check-btn').addEventListener('click', checkAnswers);

            // --- ç¨‹å¼é€²å…¥é» ---
            buildQuiz();
        });
    </script>
</body>
</html>

